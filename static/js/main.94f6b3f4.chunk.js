(this["webpackJsonpreact-first-project"]=this["webpackJsonpreact-first-project"]||[]).push([[0],{126:function(e,t,n){e.exports={preloaderContainer:"Preloader_preloaderContainer__2qmHb",preloader:"Preloader_preloader__3nzjs"}},139:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var r=n(23),a=n(3),c="POST_NEW_TEXT",i={dialogsData:[],messagesData:[]},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c:var n={id:4,name:"Tema"},o={id:4,message:t.postText};return Object(a.a)(Object(a.a)({},e),{},{dialogsData:[].concat(Object(r.a)(e.dialogsData),[n]),messagesData:[].concat(Object(r.a)(e.messagesData),[o])});default:return e}},s=function(e){return{type:c,postText:e}}},175:function(e,t,n){e.exports={contentColor:"Music_contentColor__3tC_L"}},198:function(e,t,n){e.exports={captchaImg:"LoginForm_captchaImg__1M2-6"}},225:function(e,t,n){},227:function(e,t,n){},25:function(e,t,n){"use strict";n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"k",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"i",(function(){return j})),n.d(t,"j",(function(){return b})),n.d(t,"a",(function(){return f})),n.d(t,"l",(function(){return p})),n.d(t,"f",(function(){return O})),n.d(t,"h",(function(){return h})),n.d(t,"g",(function(){return g})),n.d(t,"b",(function(){return m}));var r=n(6),a=n.n(r),c=n(10),i=n(93),o=n.n(i).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-Key":"0956be17-9287-4aaa-8ddc-9d18425e88b9"}}),s=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3?arguments[3]:void 0;return o.get("users?page=".concat(t,"&count=").concat(e,"&term=").concat(n)+(null===r?"":"&friend=".concat(r)),{}).then((function(e){return e.data}))},u=function(e){return o.get("profile/"+e,{})},l=function(e){return o.put("profile/status/",{status:e})},d=function(e){return o.get("profile/status/"+e,{})},j=function(e){var t=new FormData;return t.append("image",e),o.put("profile/photo/",t,{headers:{"Content-Type":"multipart/form-data"}})},b=function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.put("profile",t);case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:return e.prev=10,console.log("finally"),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})));return function(t){return e.apply(this,arguments)}}(),f=function(e){return o.post("follow/"+e,{},{})},p=function(e){return o.delete("follow/"+e,{})},O=function(){return o.get("auth/me")},h=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0;return o.post("auth/login",{email:e,password:t,rememberMe:n,captcha:r})},g=function(){return o.delete("auth/login")},m=function(){return o.get("security/get-captcha-url")}},37:function(e,t,n){e.exports={error:"Login_error__3P2GR",formControl:"Login_formControl__2h8Kz",alert:"Login_alert__3TE9q"}},394:function(e,t,n){"use strict";n.r(t),n.d(t,"rerenderEntireTree",(function(){return lt}));var r=n(1),a=function(e){e&&e instanceof Function&&n.e(5).then(n.bind(null,407)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))},c=n(27),i=n(64),o=n(139),s=n(3),u={friends:[]},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=Object(s.a)({},e);return t},d=n(6),j=n.n(d),b=n(10),f=n(23),p=n(25),O={users:[],pageSize:50,pageCount:1,totalCount:0,isFetching:!1,followingProgress:[],filter:{term:"",friend:null}},h=function(e){return{type:"FOLLOW",userId:e}},g=function(e){return{type:"UNFOLLOW",userId:e}},m=function(e){return{type:"SET_USERS",users:e}},v=function(e,t){return{type:"SET_FILTER",payload:{term:e,friend:t}}},x=function(e){return{type:"PAGE_COUNT",pageCount:e}},_=function(e){return{type:"TOTAL_COUNT",totalCount:e}},y=function(e){return{type:"TOGGLE_PRELOADER",isFetching:e}},w=function(e,t){return{type:"TOGGLE_FOLLOWING_PROGRESS",followingProgress:e,userId:t}},C=function(e,t,n,r){return function(){var a=Object(b.a)(j.a.mark((function a(c){var i;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c(y(!0)),c(x(t)),c(v(n,r)),a.next=5,Object(p.e)(e,t,n,r);case 5:i=a.sent,c(m(i.items)),c(_(i.totalCount)),c(y(!1));case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},L=n(40),I=n(80),P="SET_USER_DATA",k="LOGGED_IN_FETCHING",E=function(e,t,n,r){return{type:P,data:{userId:e,email:t,login:n,isLoggedIn:r}}},N=function(e,t){return{type:k,isFetching:e,confirmation:t}},T=function(){return function(){var e=Object(b.a)(j.a.mark((function e(t){var n,r,a,c,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(N(!0,!1)),e.next=3,Object(I.d)();case 3:0===(n=e.sent).data.resultCode&&(r=n.data.data,a=r.id,c=r.email,i=r.login,t(E(a,c,i,!0))),t(N(!1,!0));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},S="INITIALIZED_SUCCSESS",F={initialized:!1},U=n(92),R=n(172),A=Object(c.c)({profileReducer:i.d,dialogsReducer:o.a,friendsReducer:l,usersReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(s.a)(Object(s.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(s.a)(Object(s.a)({},e),{},{followed:!0}):e}))});case"UNFOLLOW":return Object(s.a)(Object(s.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(s.a)(Object(s.a)({},e),{},{followed:!1}):e}))});case"SET_USERS":return Object(s.a)(Object(s.a)({},e),{},{users:Object(f.a)(t.users)});case"SET_FILTER":return Object(s.a)(Object(s.a)({},e),{},{filter:t.payload});case"PAGE_SIZE":return Object(s.a)(Object(s.a)({},e),{},{pageSize:t.pageSize});case"PAGE_COUNT":return Object(s.a)(Object(s.a)({},e),{},{pageCount:t.pageCount});case"TOTAL_COUNT":return Object(s.a)(Object(s.a)({},e),{},{totalCount:t.totalCount});case"TOGGLE_PRELOADER":return Object(s.a)(Object(s.a)({},e),{},{isFetching:t.isFetching});case"TOGGLE_FOLLOWING_PROGRESS":return Object(s.a)(Object(s.a)({},e),{},{followingProgress:t.followingProgress?[].concat(Object(f.a)(e.followingProgress),[t.userId]):e.followingProgress.filter((function(e){return e!==t.userId}))});default:return e}},authReducer:L.b,appReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(s.a)(Object(s.a)({},e),{},{initialized:!0});default:return e}},headerReducer:U.b}),D=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.d,G=Object(c.e)(A,D(Object(c.a)(R.a)));window.store=G;var M=G,H=n(49),z=n.n(H),B=(n(225),n(7)),J=n(8),W=n(13),V=n(14),X=n(0),q=n.n(X),K=(n(226),n(227),n(15)),Z=n(24),Q=n(9),Y=n(45),$=n.n(Y),ee=function(){return Object(r.jsxs)("div",{className:$.a.nav,children:[Object(r.jsx)("div",{className:$.a.item,children:Object(r.jsx)(Z.b,{to:"/Profile/",activeClassName:$.a.active,children:"My Profile"})},"1"),Object(r.jsx)("div",{className:$.a.item,children:Object(r.jsx)(Z.b,{to:"/Dialogs",activeClassName:$.a.active,children:"Messages"})},"2"),Object(r.jsx)("div",{className:$.a.item,children:Object(r.jsx)(Z.b,{to:"/Users",activeClassName:$.a.active,children:"Users"})},"3"),Object(r.jsx)("div",{className:$.a.item,children:Object(r.jsx)(Z.b,{to:"/Settings",activeClassName:$.a.active,children:"Settings"})},"4")]})},te=n(175),ne=n.n(te),re=n(400),ae=function(e){return Object(r.jsxs)("div",{className:ne.a.contentColor,children:[Object(r.jsx)("h1",{children:"Music"}),Object(r.jsx)(re.a,{children:"Music"})]})},ce=n(61),ie=n.n(ce),oe=n(84),se=function(e){var t=document.getElementById("profileSettings"),n=function(){t&&(t.style.display="none")};return Object(r.jsx)("header",{className:ie.a.header,children:Object(r.jsx)("div",{className:ie.a.login,children:e.isLoggedIn?Object(r.jsxs)("div",{onMouseOver:function(){t&&(t.style.display="block")},onMouseOut:n,children:[Object(r.jsxs)("div",{className:ie.a.userInfo,children:[Object(r.jsx)("div",{className:ie.a.userLogin,children:Object(r.jsx)("div",{children:Object(r.jsx)("span",{children:e.login})})}),Object(r.jsx)(Z.b,{to:"/Profile",children:Object(r.jsx)("div",{className:ie.a.userAvatar,children:Object(r.jsx)("img",{src:e.userProfilePhoto||oe.a,alt:"User avatar"})})})]}),Object(r.jsxs)("div",{id:"profileSettings",className:ie.a.profileSettings,children:[Object(r.jsx)(re.a,{type:"primary",onClick:function(){e.logOut()},children:"Log out"}),Object(r.jsx)("div",{children:Object(r.jsx)(Z.b,{to:"/Settings",children:Object(r.jsx)(re.a,{type:"primary",onClick:n,children:"Profile settings"})})})]})]}):Object(r.jsxs)(Z.b,{to:"/Login",children:[" ",Object(r.jsx)("button",{children:"Login"})]})})})},ue=function(e){Object(W.a)(n,e);var t=Object(V.a)(n);function n(){return Object(B.a)(this,n),t.apply(this,arguments)}return Object(J.a)(n,[{key:"componentDidMount",value:function(){this.props.getUserProfilePhotoThunk(this.props.userId)}},{key:"render",value:function(){return Object(r.jsx)(se,Object(s.a)({},this.props))}}]),n}(q.a.Component),le=Object(c.d)(K.g,Object(Q.b)((function(e){return{isLoggedIn:e.authReducer.isLoggedIn,login:e.authReducer.login,isFetching:e.authReducer.isFetching,userId:e.authReducer.userId,userProfilePhoto:e.headerReducer.userProfilePhoto}}),{logOut:L.c,getUserProfilePhotoThunk:U.a}))(ue),de=n(70),je=n.n(de),be=function(e){var t=e.id,n=e.photo,a=e.followed,c=e.followingProgress,i=e.name,o=e.status,s=null,u=Object(Q.c)();return o&&o.length>50&&(s=o.slice(1,50)+"..."),Object(r.jsxs)("div",{className:je.a.user,children:[Object(r.jsxs)("div",{className:je.a.logoBlock,children:[Object(r.jsx)("div",{children:Object(r.jsx)(Z.b,{to:"/Users/"+t,children:Object(r.jsx)("img",{src:null==n?oe.a:n,alt:"UserPhoto"})})}),Object(r.jsx)("div",{children:a?Object(r.jsx)(re.a,{type:"default",disabled:c.some((function(e){return e===t})),onClick:function(){var e;u((e=t,function(){var t=Object(b.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(w(!0,e)),t.next=3,Object(p.l)(e);case 3:0===t.sent.data.resultCode&&n(g(e)),n(w(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))},children:"Unfollow"}):Object(r.jsx)(re.a,{type:"default",disabled:c.some((function(e){return e===t})),onClick:function(){var e;u((e=t,function(){var t=Object(b.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(w(!0,e)),t.next=3,Object(p.a)(e);case 3:0===t.sent.data.resultCode&&n(h(e)),n(w(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))},children:"Follow"})})]}),Object(r.jsxs)("div",{className:je.a.infoBlock,children:[Object(r.jsx)("div",{className:je.a.name,children:i}),Object(r.jsx)("div",{className:je.a.status,children:s||o})]})]})},fe=n(43),pe=n.n(fe),Oe=n(140),he=function(e){return e.usersReducer.users},ge=function(e){return e.usersReducer.pageSize},me=function(e){return e.usersReducer.pageCount},ve=function(e){return e.usersReducer.totalCount},xe=function(e){return e.usersReducer.isFetching},_e=function(e){return e.usersReducer.followingProgress},ye=function(e){return e.usersReducer.filter},we=Object(Oe.a)(he,(function(e){return e.filter((function(e){return!0}))})),Ce=function(){var e=Object(K.f)(),t=Object(Q.d)(ye),n=Object(Q.d)(we),a=Object(Q.d)(me),c=Object(Q.d)(_e);Object(X.useEffect)((function(){e.push({pathname:"/users",search:"?term=".concat(t.term,"&friend=").concat(t.friend,"&page=").concat(a)})}),[t,a]);var i=n.map((function(e){return Object(r.jsx)(be,{id:e.id,name:e.name,status:e.status,photo:e.photos.small,followed:e.followed,followingProgress:c},e.id)}));return Object(r.jsx)("div",{className:pe.a.users,children:Object(r.jsx)("div",{children:i})})},Le=n(63),Ie=n(11),Pe=function(){var e=Object(Q.d)(ge),t=(Object(Q.d)(xe),Object(Q.c)());return Object(r.jsx)("div",{children:Object(r.jsx)(Ie.d,{initialValues:{userName:"",friend:null},onSubmit:function(n){function r(){return(r=Object(b.a)(j.a.mark((function r(){return j.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t(C(e,1,n.userName,n.friend));case 2:case"end":return r.stop()}}),r)})))).apply(this,arguments)}return t((function(e){e(m([]))})),function(){return r.apply(this,arguments)}()},validateOnChange:!1,children:function(e){return Object(r.jsxs)(Ie.c,{className:pe.a.searchModule,children:[Object(r.jsx)(Ie.b,{as:"input",name:"userName"}),Object(r.jsxs)(Ie.b,{name:"friend",as:"select",children:[Object(r.jsx)("option",{value:"null",children:"All"}),Object(r.jsx)("option",{value:"true",children:"Friends"}),Object(r.jsx)("option",{value:"false",children:"Not friends"})]}),Object(r.jsx)("input",{type:"submit",value:"search",disabled:e.isSubmitting})]})}})})},ke=n(85),Ee=n(191),Ne=n.n(Ee),Te=function(e){var t=Object(Q.d)(ve),n=Math.ceil(t/e.pageSize),a=Object(Q.c)();return Object(r.jsx)(Ne.a,{previousLabel:"Previous",nextLabel:"Next",pageCount:n,pageRangeDisplayed:5,marginPagesDisplayed:2,onPageChange:function(t){return function(t){a(C(e.pageSize,t+1,"",null)),window.scrollTo(0,0)}(t.selected)},containerClassName:pe.a.paginationBttns,previousLinkClassName:pe.a.prevBttn,nextLinkClassName:pe.a.nextBttn,disabledClassName:pe.a.paginationDisabled,activeClassName:pe.a.paginationActive,initialPage:e.pageCount-1,disableInitialCallback:!0})},Se=Object(c.d)(ke.a)((function(){var e=Object(Q.c)(),t=Object(Q.d)(ge),n=Object(Q.d)(me),a=Object(Q.d)(xe);return Object(X.useEffect)((function(){e(C(t,n,"",null))}),[]),console.log(a),Object(r.jsx)(r.Fragment,{children:a?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Pe,{}),Object(r.jsx)(Le.a,{})]}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Pe,{}),Object(r.jsx)(Ce,{}),Object(r.jsx)(Te,{pageSize:t,pageCount:n})]})})})),Fe=n(22),Ue=n(37),Re=n.n(Ue),Ae=function(e){return Object(r.jsx)("div",{className:Re.a.error,children:e.children})},De=function(e){var t=e.name,n=(e.label,e.options),a=Object(Fe.a)(e,["name","label","options"]);return Object(r.jsxs)("div",{children:[Object(r.jsx)(Ie.b,Object(s.a)(Object(s.a)({name:t},a),{},{children:function(e){var t=e.field;return n.map((function(e){return Object(r.jsxs)(q.a.Fragment,{children:[Object(r.jsx)("div",{children:Object(r.jsx)("label",{htmlFor:e.value,children:e.key})}),Object(r.jsx)("input",Object(s.a)(Object(s.a)({type:"checkbox",id:e.value},t),{},{value:e.value,checked:2===t.value.length}))]},e.key)}))}})),Object(r.jsx)(Ie.a,{name:t,component:Ae})]})},Ge=n(192),Me=n.n(Ge),He=(n(237),function(e){var t=e.label,n=e.name,a=Object(Fe.a)(e,["label","name"]);return Object(r.jsxs)("div",{className:Re.a.formControl,children:[Object(r.jsx)("label",{htmlFor:n,children:t}),Object(r.jsx)(Ie.b,{name:n,children:function(e){var t=e.form,c=e.field,i=t.setFieldValue,o=c.value;return Object(r.jsx)(Me.a,Object(s.a)(Object(s.a)(Object(s.a)({id:n},c),a),{},{selected:o,onChange:function(e){return i(n,e)}}))}}),Object(r.jsx)(Ie.a,{name:n,component:Ae})]})}),ze=n(21),Be=n(31),Je=n.n(Be),We=function(e){return Object(r.jsxs)("div",{className:Re.a.formControl,children:[Object(r.jsx)("label",{htmlFor:e.name,children:e.label}),Object(r.jsxs)("div",{children:[Object(r.jsx)(Ie.b,{className:e.className,id:e.name,name:e.name,type:e.type,autocomplete:e.autocomplete}),Object(r.jsx)(Ie.a,{name:e.name,component:Ae})]})]})},Ve=function(e){var t=e.label,n=e.name,a=e.email,c=e.password,i=e.touchedEmail,o=e.touchedPassword,s=e.type;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(We,{className:Je()(Object(ze.a)({},Re.a.alert,i&&!a||o&&!c)),name:n,label:t,type:s})})},Xe=function(e){var t=e.name,n=e.label,a=e.options,c=Object(Fe.a)(e,["name","label","options"]);return Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{htmlFor:t,children:n}),Object(r.jsx)("div",{}),Object(r.jsx)(Ie.b,Object(s.a)(Object(s.a)({name:t},c),{},{children:function(e){var t=e.field;return a.map((function(e){return Object(r.jsxs)(q.a.Fragment,{children:[Object(r.jsx)("input",Object(s.a)(Object(s.a)({type:"radio",id:e.value},t),{},{value:e.value,checked:t.value===e.value})),Object(r.jsx)("label",{htmlFor:e.value,children:e.key})]},e.key)}))}})),Object(r.jsx)(Ie.a,{name:t,component:Ae})]})},qe=function(e){var t=e.label,n=e.name,a=e.options,c=Object(Fe.a)(e,["label","name","options"]);return Object(r.jsxs)("div",{className:Re.a.formControl,children:[Object(r.jsx)("label",{htmlFor:n,children:t}),Object(r.jsx)(Ie.b,Object(s.a)(Object(s.a)({as:"select",id:n,name:n},c),{},{children:a.map((function(e){return Object(r.jsx)("option",{value:e.value,children:e.key},e.value)}))})),Object(r.jsx)(Ie.a,{name:n,component:Ae})]})},Ke=function(e){var t=e.label,n=e.name,a=Object(Fe.a)(e,["label","name"]);return Object(r.jsxs)("div",{className:Re.a.formControl,children:[Object(r.jsx)("label",{htmlFor:n,children:t}),Object(r.jsx)(Ie.b,Object(s.a)({as:"textarea",id:n,name:n},a)),Object(r.jsx)(Ie.a,{name:n,component:Ae})]})},Ze=function(e){var t=e.control,n=Object(Fe.a)(e,["control"]);switch(t){case"input":return Object(r.jsx)(Ve,Object(s.a)({},n));case"textarea":return Object(r.jsx)(Ke,Object(s.a)({},n));case"select":return Object(r.jsx)(qe,Object(s.a)({},n));case"radio":return Object(r.jsx)(Xe,Object(s.a)({},n));case"checkbox":return Object(r.jsx)(De,Object(s.a)({},n));case"date":return Object(r.jsx)(He,Object(s.a)({},n));default:return null}},Qe=n(29),Ye=n(198),$e=n.n(Ye),et=Object(Q.b)((function(e){return{isLoggedIn:e.authReducer.isLoggedIn,captchaImg:e.authReducer.captchaImg}}),{login:L.d})((function(e){var t=e.login,n=e.isLoggedIn,a=e.captchaImg,c=Qe.a({email:Qe.b().email("Invalid email format").required("Enter email"),password:Qe.b().required("Enter password")});return n?Object(r.jsx)(K.a,{to:"/Profile"}):Object(r.jsx)(Ie.d,{initialValues:{email:"",password:"",rememberMe:!0,captcha:""},validationSchema:c,onSubmit:function(e){t(e.email,e.password,e.rememberMe,e.captcha)},children:function(e){return Object(r.jsxs)(Ie.c,{children:[Object(r.jsx)("h1",{children:"Login"}),Object(r.jsx)(Ze,{email:e.values.email,touchedEmail:e.touched.email,control:"input",type:"email",label:"Email",name:"email"}),Object(r.jsx)(Ze,{password:e.values.password,touchedPassword:e.touched.password,control:"input",type:"password",label:"Password",name:"password"}),Object(r.jsx)("p",{}),Object(r.jsx)("input",{type:"submit",disabled:!e.isValid,value:"Login"}),a?Object(r.jsxs)("div",{className:$e.a.captchaImg,children:[Object(r.jsx)("p",{}),Object(r.jsx)("img",{src:a,alt:"captcha"}),Object(r.jsx)(Ze,{control:"input",label:"Enter your captcha",name:"captcha"})]}):null]})}})})),tt=function(e){return function(t){return Object(r.jsx)(q.a.Suspense,{fallback:Object(r.jsx)(Le.a,{}),children:Object(r.jsx)(e,Object(s.a)({},t))})}},nt=function(e){var t=e.profile,n=t.fullName,a=t.aboutMe,c=t.lookingForAJob,i=t.lookingForAJobDescription,o=e.profile.contacts,s=o.facebook,u=o.github,l=o.instagram,d=o.mainLink,f=o.twitter,p=o.vk,O=o.website,h=o.youtube,g=Qe.a().shape({contacts:Qe.a().shape({github:Qe.b().url("Invalid URL!"),vk:Qe.b().url("Invalid URL!"),facebook:Qe.b().url("Invalid URL!"),instagram:Qe.b().url("Invalid URL!"),twitter:Qe.b().url("Invalid URL!"),website:Qe.b().url("Invalid URL!"),youtube:Qe.b().url("Invalid URL!"),mainLink:Qe.b().url("Invalid URL!")})}),m={fullName:n,aboutMe:a,lookingForAJob:c,lookingForAJobDescription:i,contacts:{github:u,vk:p,facebook:s,instagram:l,twitter:f,website:O,youtube:h,mainLink:d}};return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(Ie.d,{initialValues:m,onSubmit:function(t){function n(){return(n=Object(b.a)(j.a.mark((function n(){return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.sendProfileSettings(t);case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return function(){return n.apply(this,arguments)}()},validationSchema:g,validateOnChange:!1,children:function(e){return Object(r.jsxs)(Ie.c,{children:[Object(r.jsx)("h1",{children:"Profile settings"}),Object(r.jsx)(Ze,{control:"input",label:"Full Name",name:"fullName"}),Object(r.jsx)(Ze,{control:"input",label:"About me",name:"aboutMe"}),Object(r.jsx)(Ze,{control:"input",label:"My skills",name:"lookingForAJobDescription"}),Object(r.jsxs)("div",{children:[Object(r.jsx)("p",{}),Object(r.jsx)(Ie.b,{type:"checkbox",name:"lookingForAJob"}),Object(r.jsx)("label",{htmlFor:"lookingForAJob",children:"Looking for a job"})]}),Object(r.jsx)("h3",{children:"Contacts"}),Object(r.jsx)(Ze,{control:"input",label:"Github",name:"contacts.github"}),Object(r.jsx)(Ze,{control:"input",label:"vk",name:"contacts.vk"}),Object(r.jsx)(Ze,{control:"input",label:"Facebook",name:"contacts.facebook"}),Object(r.jsx)(Ze,{control:"input",label:"Instagram",name:"contacts.instagram"}),Object(r.jsx)(Ze,{control:"input",label:"Twitter",name:"contacts.twitter"}),Object(r.jsx)(Ze,{control:"input",label:"Website",name:"contacts.website"}),Object(r.jsx)(Ze,{control:"input",label:"Youtube",name:"contacts.youtube"}),Object(r.jsx)(Ze,{control:"input",label:"Main link",name:"contacts.mainLink"}),Object(r.jsx)("p",{}),Object(r.jsx)("input",{type:"submit",value:"save",disabled:e.isSubmitting})]})}})})},rt=function(e){Object(W.a)(n,e);var t=Object(V.a)(n);function n(){return Object(B.a)(this,n),t.apply(this,arguments)}return Object(J.a)(n,[{key:"componentDidMount",value:function(){this.props.getUserProfileThunkCreator(this.props.userId)}},{key:"componentWillUnmount",value:function(){this.props.removeUserProfileThunkCreator()}},{key:"render",value:function(){return Object(r.jsx)(r.Fragment,{children:this.props.profile?Object(r.jsx)(nt,{sendProfileSettings:this.props.updateUserProfileSettings,profile:this.props.profile}):null})}}]),n}(q.a.Component),at=Object(c.d)(K.g,Object(Q.b)((function(e){return{profile:e.profileReducer.profile,userId:e.authReducer.userId}}),{updateUserProfileSettings:i.f,getUserProfileThunkCreator:i.a,removeUserProfileThunkCreator:i.e}),ke.a)(rt),ct=q.a.lazy((function(){return n.e(3).then(n.bind(null,409))})),it=q.a.lazy((function(){return n.e(4).then(n.bind(null,408))})),ot=function(e){Object(W.a)(n,e);var t=Object(V.a)(n);function n(){return Object(B.a)(this,n),t.apply(this,arguments)}return Object(J.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(le,{}),Object(r.jsxs)("div",{className:"app-wrapper",children:[Object(r.jsx)(ee,{}),Object(r.jsxs)("div",{className:"app-wrapper-content",children:[Object(r.jsx)(K.b,{path:"/Dialogs",render:tt(ct)}),Object(r.jsx)(K.b,{path:"/Profile/:userId?",render:tt(it)}),Object(r.jsx)(K.b,{path:"/Users/:userId",render:tt(it)}),Object(r.jsx)(K.b,{exact:!0,path:"/Users",render:function(){return Object(r.jsx)(Se,{})}}),Object(r.jsx)(K.b,{path:"/Music",render:function(){return Object(r.jsx)(ae,{})}}),Object(r.jsx)(K.b,{path:"/Settings",render:function(){return Object(r.jsx)(at,{})}}),Object(r.jsx)(K.b,{path:"/Login",render:function(){return Object(r.jsx)(et,{})}})]})]})]}):Object(r.jsx)(Le.a,{})}}]),n}(q.a.Component),st=Object(c.d)(K.g,Object(Q.b)((function(e){return{initialized:e.appReducer.initialized}}),{initializeApp:function(){return function(e){var t=e(T());Promise.all([t]).then((function(){e({type:S})}))}}}))(ot),ut=function(){return Object(r.jsx)(Z.a,{basename:"/social-network",children:Object(r.jsx)(Q.a,{store:M,children:Object(r.jsx)(st,{})})})},lt=function(){z.a.render(Object(r.jsx)(ut,{}),document.getElementById("root"))};lt(M),window.store=M,a()},40:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return j}));var r=n(6),a=n.n(r),c=n(10),i=n(3),o=n(25),s={userId:null,email:null,login:null,isLoggedIn:!1,isFetching:!1,confirmation:!1,captchaImg:""},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":return Object(i.a)(Object(i.a)({},e),t.data);case"LOGGED_IN_TOGGLE":return Object(i.a)(Object(i.a)({},e),{},{isLoggedIn:t.isLoggedIn});case"LOGGED_IN_FETCHING":return Object(i.a)(Object(i.a)({},e),{},{isFetching:t.isFetching,confirmation:t.confirmation});case"CAPTCHA":return Object(i.a)(Object(i.a)({},e),{},{captchaImg:t.captchaImg});default:return e}},l={setUserDataAC:function(e,t,n,r){return{type:"SET_USER_DATA",data:{userId:e,email:t,login:n,isLoggedIn:r}}},LoggedInTogglegAC:function(e){return{type:"LOGGED_IN_TOGGLE",isLoggedIn:e}},LoggedInFetchingAC:function(e,t){return{type:"LOGGED_IN_FETCHING",isFetching:e,confirmation:t}},captcha:function(e){return{type:"CAPTCHA",captchaImg:e}}},d=function(e,t,n,r){return function(){var i=Object(c.a)(a.a.mark((function i(s){var u;return a.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(o.h)(e,t,n,r);case 2:0===(u=i.sent).data.resultCode&&s(function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r,c,i,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(l.LoggedInFetchingAC(!0,!1)),e.next=3,Object(o.f)();case 3:0===(n=e.sent).data.resultCode&&(r=n.data.data,c=r.id,i=r.email,s=r.login,t(l.setUserDataAC(c,i,s,!0))),t(l.LoggedInFetchingAC(!1,!0));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),10===u.data.resultCode&&s(b());case 5:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}()},j=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.g)();case 2:0===e.sent.data.resultCode&&t(l.setUserDataAC(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},b=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.b)();case 2:n=e.sent,t(l.captcha(n.data.url));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},43:function(e,t,n){e.exports={contentColor:"Users_contentColor__2Kips",addUsersButtonContainer:"Users_addUsersButtonContainer__3tC_O",searchModule:"Users_searchModule__2XlsX",paginationBttns:"Users_paginationBttns__2LHF9",paginationActive:"Users_paginationActive__1pa9Q",paginationDisabled:"Users_paginationDisabled__2UjJv"}},45:function(e,t,n){e.exports={nav:"Nav_nav__3jRL3",item:"Nav_item__3Mn2D",active:"Nav_active__10tEP"}},61:function(e,t,n){e.exports={header:"Header_header__eA5PG",login:"Header_login__2clXM",userInfo:"Header_userInfo__UZJGJ",userLogin:"Header_userLogin__1B_UB",userAvatar:"Header_userAvatar__8bsmo",profileSettings:"Header_profileSettings__3xpjx"}},63:function(e,t,n){"use strict";var r=n(1),a=(n(0),n.p+"static/media/loaderSVG.9daeb47d.svg"),c=n(126),i=n.n(c);t.a=function(){return Object(r.jsx)("div",{className:i.a.preloaderContainer,children:Object(r.jsx)("img",{className:i.a.preloader,src:a,alt:"preloader"})})}},64:function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return p})),n.d(t,"e",(function(){return O})),n.d(t,"b",(function(){return h})),n.d(t,"g",(function(){return g})),n.d(t,"f",(function(){return m})),n.d(t,"h",(function(){return v})),n.d(t,"c",(function(){return x}));var r=n(6),a=n.n(r),c=n(10),i=n(23),o=n(3),s=n(25),u={posts:[],newPostText:"",profile:null,userStatus:"",loadingPhoto:!1},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_PROFILE":return Object(o.a)(Object(o.a)({},e),{},{profile:t.profile});case"APDATE_USER_STATUS":return Object(o.a)(Object(o.a)({},e),{},{userStatus:t.userStatus});case"UPDATE_USER_PHOTO":return Object(o.a)(Object(o.a)({},e),{},{profile:Object(o.a)(Object(o.a)({},e.profile),{},{photos:t.photos})});case"ADD_NEW_POST":var n={id:1,postText:t.postText,userAva:null,userName:t.login,likesCount:0};return Object(o.a)(Object(o.a)({},e),{},{posts:[].concat(Object(i.a)(e.posts),[n])});case"DELETE_POST":return Object(o.a)(Object(o.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!=t.postId}))});case"LOADING_NEW_PROFILE_PHOTO":return Object(o.a)(Object(o.a)({},e),{},{loadingPhoto:!e.loadingPhoto});default:return e}},d=function(e){return{type:"SET_USER_PROFILE",profile:e}},j=function(e){return{type:"APDATE_USER_STATUS",userStatus:e}},b=function(e){return{type:"UPDATE_USER_PHOTO",photos:e}},f=function(){return{type:"LOADING_NEW_PROFILE_PHOTO"}},p=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.c)(e);case 2:r=t.sent,n(d(r.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},O=function(){return function(e){e(d(null))}},h=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.d)(e);case 2:r=t.sent,n(j(r.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.k)(e);case 2:0===t.sent.data.resultCode&&n(j(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.j)(e);case 2:t.sent;case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.i)(e);case 2:0===(r=t.sent).data.resultCode&&n(b(r.data.data.photos));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=function(){return function(e){e(f())}}},70:function(e,t,n){e.exports={user:"User_user__3Kdvq",logoBlock:"User_logoBlock__xhS7H",infoBlock:"User_infoBlock__3O4VD",name:"User_name__3sCD6",status:"User_status__1ssRJ",city:"User_city__1xMuO",country:"User_country__1_5tH"}},80:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"i",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return j})),n.d(t,"d",(function(){return b})),n.d(t,"f",(function(){return f})),n.d(t,"e",(function(){return p})),n.d(t,"a",(function(){return O}));var r=n(6),a=n.n(r),c=n(10),i=n(93),o=n.n(i).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-Key":"0956be17-9287-4aaa-8ddc-9d18425e88b9"}}),s=function(e){return o.get("profile/"+e,{})},u=function(e){return o.put("profile/status/",{status:e})},l=function(e){return o.get("profile/status/"+e,{})},d=function(e){var t=new FormData;return t.append("image",e),o.put("profile/photo/",t,{headers:{"Content-Type":"multipart/form-data"}})},j=function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.put("profile",t);case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:return e.prev=10,console.log("finally"),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){return o.get("auth/me")},f=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0;return o.post("auth/login",{email:e,password:t,rememberMe:n,captcha:r})},p=function(){return o.delete("auth/login")},O=function(){return o.get("security/get-captcha-url")}},84:function(e,t,n){"use strict";t.a=n.p+"static/media/defaultAvatar.0334f4b4.png"},85:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(3),a=n(1),c=n(7),i=n(8),o=n(13),s=n(14),u=n(0),l=n.n(u),d=n(15),j=n(9),b=n(40),f=function(e){var t=function(t){Object(o.a)(u,t);var n=Object(s.a)(u);function u(e){var t;return Object(c.a)(this,u),(t=n.call(this,e)).props=e,t}return Object(i.a)(u,[{key:"render",value:function(){return this.props.isLoggedIn?Object(a.jsx)(e,Object(r.a)({},this.props)):Object(a.jsx)(d.a,{to:"/Login"})}}]),u}(l.a.Component);return Object(j.b)((function(e){return{isLoggedIn:e.authReducer.isLoggedIn,isFetching:e.authReducer.isFetching,confirmation:e.authReducer.confirmation}}),{LoggedInTogglegAC:b.a.LoggedInTogglegAC,LoggedInFetchingAC:b.a.LoggedInFetchingAC,logOut:b.c})(t)}},92:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d}));var r=n(6),a=n.n(r),c=n(10),i=n(3),o=n(25),s="SET_USER_PROFILE_PHOTO",u={userProfilePhoto:""},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return Object(i.a)(Object(i.a)({},e),{},{userProfilePhoto:t.userProfilePhoto});default:return e}},d=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(o.c)(e);case 2:r=t.sent,n((a=r.data.photos.small,{type:s,userProfilePhoto:a}));case 4:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()}}},[[394,1,2]]]);
//# sourceMappingURL=main.94f6b3f4.chunk.js.map