{"version":3,"sources":["API/api.js","components/Common/Preloader/Preloader.module.css","OldReducers/headerRecuder.js","OldReducers/dialogsReducer.js","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/MessageItem/MessageItem.jsx","components/Dialogs/AddDialog/AddDialog.jsx","components/Dialogs/AddDialog/AddDialogContainerTS.tsx","components/Music/Music.module.css","components/Users/Users.module.css","components/Login/LoginForm.module.css","components/Dialogs/DialogItem/DialogItem.module.css","components/Dialogs/MessageItem/MessageItem.module.css","OldReducers/authReducer.js","components/Navbar/Nav.module.css","components/Common/FormControls/Login.module.css","reportWebVitals.js","redux/profileReducerTypescript.ts","redux/dialogsReducerTypescript.ts","OldReducers/friendsReducer.js","redux/usersReducerTypescript.ts","redux/authReducerTypescript.ts","redux/appReducerTypescript.ts","redux/myFirstTypescriptReducer.tsx","redux/reduxStoreTS.ts","OldReducers/appReducer.js","OldReducers/reduxStore.js","components/Navbar/Nav.jsx","components/Music/Music.jsx","components/Header/HeaderTS.tsx","components/Header/HeaderContainerTS.tsx","components/Users/Paginator/PageButtonTS.tsx","components/Users/Paginator/PaginatorTS.tsx","components/Users/User/UserTS.tsx","components/Users/UsersTS.tsx","components/Users/UsersInnerContainerTS.tsx","components/Common/FormControls/TextError.jsx","components/Common/FormControls/FormikCheckbox.jsx","components/Common/FormControls/FormikDatePicker.jsx","components/Common/FormControls/FormikInput.jsx","components/Common/FormControls/FormikRadioButtons.jsx","components/Common/FormControls/FormikSelect.jsx","components/Common/FormControls/FormikTextArea.jsx","components/Common/FormControls/FormikControl.jsx","components/Login/LoginForm.jsx","hoc/WithSuspense.js","components/Settings/Settings.jsx","components/Settings/SettingsContainer.jsx","App.js","index.js","components/Users/User/User.module.css","OldReducers/selectors.js","components/Header/Header.module.css","hoc/LoggedInRedirect.js","assets/loaderSVG.svg","components/Common/Preloader/Preloader.jsx","components/Dialogs/AddDialog/AddDialog.module.css","assets/defaultAvatar.png","OldReducers/profileReducer.js","components/Users/Paginator/PageButton.module.css"],"names":["instance","axios","create","withCredentials","baseURL","headers","getUsers","pageSize","pageCount","get","then","res","data","getUserProfile","userId","sendUserStatus","status","put","getUserStatus","sendUserPhoto","file","formData","FormData","append","sendUserProfileSettings","settings","a","console","log","follow","post","unFollow","delete","logInProfile","loginMe","email","password","rememberMe","captcha","logOutMe","getCaptcha","module","exports","SET_USER_PROFILE_PHOTO","getUserProfilePhotoThunk","UserId","dispatch","userProfilePhoto","photos","small","type","POST_NEW_TEXT","DialogItem","props","className","classes","dialogItem","to","src","userPhoto","alt","id","name","MessageItem","messageItem","message","AddDialog","postNewText","postText","dialogElements","state","dialogsData","map","dialog","userName","messageItems","messagesData","dialogsContainer","dialogs","messages","addDialog","initialValues","textMessage","onSubmit","values","onSubmitProps","resetForm","htmlFor","as","AddDialogContainerTS","this","postNewTextActionCreator","React","Component","compose","connect","dialogsReducer","headerReducer","authReducer","login","LoggedInRedirect","SET_USER_DATA","LOGGED_IN_TOGGLE","LOGGED_IN_FETCHING","CAPTCHA","setUserDataAC","isLoggedIn","LoggedInTogglegAC","LoggedInFetchingAC","isFetching","confirmation","logInUserThunkCreator","resultCode","getCaptchaThunk","logOut","captchaImg","url","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","SET_USER_PROFILE","APDATE_USER_STATUS","ADD_NEW_POST","UPDATE_POST_TEXT","DELETE_POST","UPDATE_USER_PHOTO","LOADING_NEW_PROFILE_PHOTO","initialState","posts","newPostText","profile","userStatus","loadingPhoto","profileReducer","action","newPost","userAva","likesCount","filter","postId","newDialog","newPostItem","friends","friendsReducer","stateCopy","FOLLOW","UNFOLLOW","SET_USERS","PAGE_SIZE","TOGGLE_PRELOADER","TOGGLE_FOLLOWING_PROGRESS","PAGE_COUNT","TOTAL_COUNT","users","totalCount","followingProgress","usersReducer","user","followed","followAC","unfollowAC","setUsersAC","pageCountAC","toggleFollowingProgressAC","INITIALIZED_SUCCSESS","initialized","appReducer","reducers","combineReducers","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","Nav","nav","item","activeClassName","active","Music","contentColor","Header","userSettings","document","getElementById","hideUserSettingsContainer","style","display","header","onMouseOver","onMouseOut","userInfo","userLogin","userAvatar","defaultAvatar","profileSettings","onClick","HeaderContainer","withRouter","PageButton","cn","checkedButton","button","removeUsers","Paginator","useState","initialPage","setInitialPage","numberOfShowedButtons","decrementNumber","setDecrementNumber","incrementNumber","numberOfPageButtons","Math","ceil","buttons","buttonsInitializeArray","i","push","createButtonsArray","PageButtonTS","buttonsContainer","User","photo","unFollowThunkCreator","followThunkCreator","slicedStatus","length","slice","logoBlock","disabled","some","infoBlock","country","city","UsersTS","PaginatorTS","UsersInnerContainer","getUsersThunkCreator","removeUsersThunkCreator","Preloader","getUsersSuper","usersSelectors","getPageSize","getPageCount","getTotalCount","getIsFetching","getFollowingProgrress","pageSizeAC","items","TextError","error","children","FormikCheckbox","options","label","rest","field","option","Fragment","value","key","checked","component","FormikDatePicker","formControl","form","setFieldValue","selected","onChange","val","Input","autocomplete","FormikInput","touchedEmail","touchedPassword","alert","FormikRadioButtons","FormikSelect","FormikTextArea","FormikControl","control","validationSchema","Yup","required","formik","touched","isValid","WithSuspense","Suspense","fallback","Settings","fullName","aboutMe","lookingForAJob","lookingForAJobDescription","contacts","facebook","github","instagram","mainLink","twitter","vk","website","youtube","shape","sendProfileSettings","validateOnChange","isSubmitting","SettingsContainer","getUserProfileThunkCreator","removeUserProfileThunkCreator","updateUserProfileSettings","ProfileContainer","lazy","App","initializeApp","path","render","exact","AppWithRouter","logInUserPromise","Promise","all","MainApp","basename","process","rerenderEntireTree","ReactDOM","getAllUsers","getAllUsersSelector","createSelector","postsSelectors","getPosts","getProfile","getNewPostsText","getLogin","RedirectedComponent","preloaderContainer","preloader","setUserProfile","updateUserStatusAC","addNewPostAC","getUserStatusThunkCreator","updateUserStatusThunkCreator","uploadUserProfilePhotoThunkCreator","addNewPostThunkCreator","loadingPhotoThunk"],"mappings":"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","file":"static/js/main.ba961b95.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        'API-Key': '0956be17-9287-4aaa-8ddc-9d18425e88b9',\r\n    }\r\n})\r\n\r\nexport const getUsers = (pageSize, pageCount) => {\r\n    return instance.get('users?page=' + pageCount + '&count=' + pageSize, {}).then(res => res.data)\r\n} // Получаем с сервера объект с пользователями \r\n\r\nexport const getUserProfile = (userId) => {\r\n    return instance.get('profile/' + userId, {})\r\n} // Получаем с сервера профиль пользователя согласно id выбранного пользователя\r\n\r\nexport const sendUserStatus = (status) => {\r\n    return instance.put('profile/status/', { status: status })\r\n} // Отправляем на сервер новый статус пользователя\r\n\r\nexport const getUserStatus = (userId) => {\r\n    return instance.get('profile/status/' + userId, {})\r\n} // Получаем с сервера статус профиля пользователя\r\n\r\nexport const sendUserPhoto = (file) => {\r\n    const formData = new FormData()\r\n    formData.append('image', file)\r\n    return instance.put('profile/photo/', formData, { \r\n        headers: {\r\n            'Content-Type': 'multipart/form-data'\r\n        }\r\n     })\r\n} // отправляем на сервер новое фото пользователя\r\n\r\nexport const sendUserProfileSettings = async (settings) => {\r\n    try {\r\n        const res = await instance.put('profile', settings)\r\n        return res\r\n    } catch(e) {\r\n        console.log(e)\r\n    } finally {\r\n        console.log('finally')\r\n    }\r\n    \r\n} // Отправляем на сервер новые настройки профиля пользователя \r\n\r\nexport const follow = (userId) => {\r\n    return instance.post('follow/' + userId, {}, {})\r\n} // Отправляем запрос на подписку на пользователя\r\n\r\nexport const unFollow = (userId) => {\r\n    return instance.delete('follow/' + userId, {}, {})\r\n} // Отправляем запрос на отписку от пользвателя\r\n\r\nexport const logInProfile = () => {\r\n    return instance.get('auth/me')\r\n} // Отпраялем запрос на проверку верификации профиля\r\n\r\nexport const loginMe = (email, password, rememberMe = true, captcha) => {\r\n    return instance.post('auth/login', { email, password, rememberMe, captcha })\r\n} // Логинимся в приложение\r\n\r\nexport const logOutMe = () => {\r\n    return instance.delete('auth/login')\r\n} // Выходим из приложения\r\n\r\nexport const getCaptcha = () => {\r\n    return instance.get('security/get-captcha-url')\r\n} // Отправляем запрос на капчу","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloaderContainer\":\"Preloader_preloaderContainer__2qmHb\",\"preloader\":\"Preloader_preloader__3nzjs\"};","import {\r\n    getUserProfile,\r\n} from '../API/api'\r\n\r\nconst SET_USER_PROFILE_PHOTO = 'SET_USER_PROFILE_PHOTO';\r\n\r\nlet initialState = {\r\n    userProfilePhoto: ''\r\n};\r\n\r\n\r\nexport const headerReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SET_USER_PROFILE_PHOTO: {\r\n            return { ...state, userProfilePhoto: action.userProfilePhoto }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setUserProfilePhoto = (userProfilePhoto) => ({ type: SET_USER_PROFILE_PHOTO, userProfilePhoto })\r\n\r\n\r\nexport const getUserProfilePhotoThunk = (UserId) => \r\n    async (dispatch) => {\r\n        const res = await getUserProfile(UserId) \r\n        dispatch(setUserProfilePhoto(res.data.photos.small))\r\n    }\r\n\r\n    \r\n// Делаем запрос на сервер за данными пользователя, и диспатчим данные в стор\r\n\r\n","const POST_NEW_TEXT = 'POST_NEW_TEXT'\r\n\r\nlet initialState = {\r\n    dialogsData: [],\r\n    messagesData: [],\r\n}\r\n\r\nexport const dialogsReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case POST_NEW_TEXT:\r\n            let newDialog = {\r\n                id: 4,\r\n                name: 'Tema'\r\n            }\r\n            let newPostItem = {\r\n                id: 4,\r\n                message: action.postText,\r\n            }\r\n            return {\r\n                ...state,\r\n                dialogsData: [...state.dialogsData, newDialog],\r\n                messagesData: [...state.messagesData, newPostItem],\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\n\r\nexport const postNewTextActionCreator = (postText) => {\r\n    return {\r\n        type: POST_NEW_TEXT,\r\n        postText: postText\r\n    }\r\n}\r\n","import React from 'react'\r\nimport classes from './DialogItem.module.css'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nconst DialogItem = (props) => {\r\n    return (\r\n        <div className={classes.dialogItem}>\r\n            <NavLink to='/Profile'>\r\n            <div>\r\n                <img src={props.userPhoto} alt=\"\"/>\r\n            </div>\r\n            </NavLink>\r\n            <NavLink to={'/Dialogs/' + props.id}>{props.name}</NavLink>\r\n        </div>\r\n    )\r\n}\r\nexport default DialogItem","import React from 'react'\r\nimport classes from './MessageItem.module.css'\r\n\r\n\r\nconst MessageItem = (props) => {\r\n    return (\r\n        <div className={classes.messageItem}>{props.message}</div>\r\n    )\r\n}\r\nexport default MessageItem","import React from 'react'\r\nimport classes from './AddDialog.module.css'\r\nimport DialogItem from '../DialogItem/DialogItem'\r\nimport MessageItem from '../MessageItem/MessageItem'\r\nimport { Formik, Form, Field } from 'formik'\r\n\r\n\r\nconst AddDialog = (props) => {\r\n\r\n    const initialValues = {\r\n        textMessage: ''\r\n    }\r\n\r\n    const onSubmit = (values, onSubmitProps) => {\r\n        if (values.textMessage === '') return null\r\n        else {\r\n            postNewText(values.textMessage)\r\n            onSubmitProps.resetForm()\r\n        }\r\n    }\r\n\r\n    const postNewText = (postText) => {\r\n        props.postNewText(postText)\r\n    }\r\n\r\n    let dialogElements = props.state.dialogsData.map(dialog => <DialogItem\r\n        userPhoto={props.userPhoto}\r\n        name={props.userName}\r\n        key={dialog.id}\r\n        id={dialog.id} />)\r\n    let messageItems = props.state.messagesData.map(message => <MessageItem\r\n        message={message.message}\r\n        key={message.id} />)\r\n\r\n    return (\r\n        <div className={classes.dialogsContainer}>\r\n            \r\n                <div className={classes.dialogs}>\r\n                    {dialogElements}\r\n                </div>\r\n                <div className={classes.messages}>\r\n                    {messageItems}\r\n                </div>\r\n            \r\n            <div className={classes.addDialog}>\r\n                <hr />\r\n                <p></p>\r\n                <div>\r\n                    <Formik initialValues={initialValues} onSubmit={onSubmit}>\r\n                        <Form>\r\n                            <h2>\r\n                                <label htmlFor=\"textMessage\">Send Message</label>\r\n                            </h2>\r\n                            <div></div>\r\n                            <Field as='textarea' name='textMessage' id='textMessage' />\r\n                            <div></div>\r\n                            <button type='submit'>Send</button>\r\n                        </Form>\r\n                    </Formik>\r\n                </div>\r\n            </div>\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\nexport default AddDialog","import React from 'react'\r\nimport { postNewTextActionCreator } from '../../../OldReducers/dialogsReducer'\r\nimport AddDialog from './AddDialog'\r\nimport {connect} from 'react-redux'\r\nimport { LoggedInRedirect } from '../../../hoc/LoggedInRedirect';\r\nimport { compose } from 'redux';\r\nimport { AppStateType } from '../../../redux/reduxStoreTS';\r\n\r\ntype dialogPropsType = {\r\n    state: any\r\n    userPhoto: string\r\n    userName: string\r\n    postNewTextActionCreator: (postText: string) => void\r\n}\r\n\r\nclass AddDialogContainerTS extends React.Component<dialogPropsType> {\r\n\r\n    render() {\r\n        return <AddDialog \r\n        state={this.props.state}\r\n        userPhoto={this.props.userPhoto}\r\n        userName={this.props.userName}\r\n        postNewText={this.props.postNewTextActionCreator}\r\n        />\r\n    }\r\n}\r\n\r\n\r\nlet mapStateToProps = (state : AppStateType) => {\r\n    return {\r\n        state: state.dialogsReducer,\r\n        userPhoto: state.headerReducer.userProfilePhoto,\r\n        userName: state.authReducer.login\r\n    }\r\n}\r\nlet mapDispatchToProps = (dispatch : any) => {\r\n    return {\r\n        postNewText: (postText : string) => {\r\n            dispatch(postNewTextActionCreator(postText))\r\n        }\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps,mapDispatchToProps),\r\n    LoggedInRedirect\r\n)(AddDialogContainerTS)\r\n\r\n\r\n\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contentColor\":\"Music_contentColor__3tC_L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contentColor\":\"Users_contentColor__2Kips\",\"addUsersButtonContainer\":\"Users_addUsersButtonContainer__3tC_O\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"captchaImg\":\"LoginForm_captchaImg__1M2-6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogItem\":\"DialogItem_dialogItem__1oz5P\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messageItem\":\"MessageItem_messageItem__nyaaK\"};","import { loginMe, logInProfile, getCaptcha, logOutMe } from '../API/api'\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA'\r\nconst LOGGED_IN_TOGGLE = 'LOGGED_IN_TOGGLE'\r\nconst LOGGED_IN_FETCHING = 'LOGGED_IN_FETCHING'\r\nconst CAPTCHA = 'CAPTCHA'\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isLoggedIn: false,\r\n    isFetching: false,\r\n    confirmation: false,\r\n    captchaImg: '',\r\n}\r\n\r\nexport const authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.data,\r\n            }\r\n        case LOGGED_IN_TOGGLE:\r\n            return {\r\n                ...state,\r\n                isLoggedIn: action.isLoggedIn\r\n            }\r\n        case LOGGED_IN_FETCHING:\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching,\r\n                confirmation: action.confirmation\r\n            }\r\n        case CAPTCHA:\r\n            return {\r\n                ...state,\r\n                captchaImg: action.captchaImg\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\nexport const setUserDataAC = (userId, email, login, isLoggedIn) => {\r\n    return {\r\n        type: SET_USER_DATA,\r\n        data: { userId, email, login, isLoggedIn: isLoggedIn },\r\n    }\r\n}\r\n\r\nexport const LoggedInTogglegAC = (isLoggedIn) => {\r\n    return {\r\n        type: LOGGED_IN_TOGGLE,\r\n        isLoggedIn: isLoggedIn\r\n    }\r\n}\r\n\r\nexport const LoggedInFetchingAC = (isFetching, confirmation) => {\r\n    return {\r\n        type: LOGGED_IN_FETCHING,\r\n        isFetching: isFetching,\r\n        confirmation: confirmation\r\n    }\r\n}\r\n\r\nexport const captcha = (captchaImg) => ({\r\n    type: CAPTCHA,\r\n    captchaImg: captchaImg\r\n})\r\n\r\nexport const logInUserThunkCreator = () => async (dispatch) => {\r\n    dispatch(LoggedInFetchingAC(true, false))\r\n    const res = await logInProfile()\r\n    if (res.data.resultCode === 0) {\r\n        let { id, email, login } = res.data.data\r\n        dispatch(setUserDataAC(id, email, login, true))\r\n    }\r\n    dispatch(LoggedInFetchingAC(false, true))\r\n}\r\n\r\nexport const login = (email, password, rememberMe, captcha) =>\r\n    async (dispatch) => {\r\n        const res = await loginMe(email, password, rememberMe, captcha)\r\n        if (res.data.resultCode === 0) {\r\n            dispatch(logInUserThunkCreator())\r\n        }\r\n        if (res.data.resultCode === 10) {\r\n            dispatch(getCaptchaThunk())\r\n        }\r\n    }\r\n\r\n\r\nexport const logOut = () =>\r\n    async (dispatch) => {\r\n        const res = await logOutMe()\r\n        if (res.data.resultCode === 0) {\r\n            dispatch(setUserDataAC(null, null, null, false))\r\n        }\r\n    }\r\n\r\n\r\nexport const getCaptchaThunk = () =>\r\n    async (dispatch) => {\r\n        const res = await getCaptcha()\r\n        dispatch(captcha(res.data.url))\r\n    }\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__3jRL3\",\"item\":\"Nav_item__3Mn2D\",\"active\":\"Nav_active__10tEP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"Login_error__3P2GR\",\"formControl\":\"Login_formControl__2h8Kz\",\"alert\":\"Login_alert__3TE9q\"};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {\r\n    getUserProfile,\r\n    getUserStatus,\r\n    sendUserStatus,\r\n    sendUserPhoto,\r\n    sendUserProfileSettings\r\n} from '../API/api'\r\n\r\nimport {\r\n    postsType,\r\n    contactsType,\r\n    photosType,\r\n    profileType\r\n} from '../types/types'\r\n\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst APDATE_USER_STATUS = 'APDATE_USER_STATUS'\r\nconst ADD_NEW_POST = 'ADD_NEW_POST'\r\nconst UPDATE_POST_TEXT = 'UPDATE_POST_TEXT'\r\nconst DELETE_POST = 'DELETE_POST'\r\nconst UPDATE_USER_PHOTO = 'UPDATE_USER_PHOTO'\r\nconst LOADING_NEW_PROFILE_PHOTO = 'LOADING_NEW_PROFILE_PHOTO'\r\n\r\n\r\nlet initialState = {\r\n    posts: [] as Array<postsType>,\r\n    newPostText: '',\r\n    profile: null as profileType | null,\r\n    userStatus: '',\r\n    loadingPhoto: false\r\n};\r\n\r\nexport type initialStateType = typeof initialState\r\n\r\n\r\nexport const profileReducer = (state = initialState, action : any) : initialStateType => {\r\n\r\n    switch (action.type) {\r\n        case SET_USER_PROFILE: {\r\n            return { ...state, profile: action.profile }\r\n        }\r\n        case APDATE_USER_STATUS: {\r\n            return {\r\n                ...state,\r\n                userStatus: action.userStatus\r\n            } \r\n        }\r\n        case UPDATE_USER_PHOTO: {\r\n            return { ...state, profile: { ...state.profile, photos: action.photos } as profileType }\r\n        }\r\n        case UPDATE_POST_TEXT: {\r\n            return {\r\n                ...state,\r\n                newPostText: action.postText\r\n            }\r\n        }\r\n        case ADD_NEW_POST: {\r\n            let newPost = {\r\n                id: 1,\r\n                postText: action.postText,\r\n                userAva: null,\r\n                userName: action.login,\r\n                likesCount: 0,\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost] as Array<postsType>\r\n            }\r\n        }\r\n        case DELETE_POST: {\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(post => post.id != action.postId)\r\n            }\r\n        }\r\n        case LOADING_NEW_PROFILE_PHOTO: {\r\n            return {\r\n                ...state,\r\n                loadingPhoto: !state.loadingPhoto\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\ntype setUserProfileType = {\r\n    type: typeof SET_USER_PROFILE\r\n    profile: profileType | null\r\n}\r\nconst setUserProfile = (profile : profileType | null ) : setUserProfileType => ({ type: SET_USER_PROFILE, profile })\r\n\r\ntype updateUserStatusACType = {\r\n    type: typeof APDATE_USER_STATUS\r\n    userStatus: string\r\n}\r\nconst updateUserStatusAC = (userStatus : string) : updateUserStatusACType => ({ type: APDATE_USER_STATUS, userStatus })\r\n\r\ntype updateUserPhotoACType = {\r\n    type: typeof UPDATE_USER_PHOTO\r\n    photos: string\r\n}\r\n\r\nconst updateUserPhotoAC = (photos : string) => ({ type: UPDATE_USER_PHOTO, photos })\r\n\r\ntype loadingPhotoACType = {\r\n    type: typeof  LOADING_NEW_PROFILE_PHOTO\r\n}\r\nconst loadingPhotoAC = () : loadingPhotoACType => ({type: LOADING_NEW_PROFILE_PHOTO})\r\n\r\ntype addNewPostACType = {\r\n    type: typeof ADD_NEW_POST\r\n    postText: string\r\n    login: string\r\n}\r\nexport const addNewPostAC = (postText:string, login:string) : addNewPostACType  => ({ type: ADD_NEW_POST, postText, login })\r\n\r\ntype deletePostACType = {\r\n    type: typeof  DELETE_POST\r\n    postId: number\r\n}\r\nexport const deletePostAC = (postId:number) : deletePostACType => ({ type: DELETE_POST, postId })\r\n\r\nexport const getUserProfileThunkCreator = (UserId : number) =>\r\n    async (dispatch : any) => {\r\n        const res = await getUserProfile(UserId)\r\n        dispatch(setUserProfile(res.data))\r\n    }\r\n// Делаем запрос на сервер за данными пользователя, и диспатчим данные в стор\r\n\r\nexport const removeUserProfileThunkCreator = () => {\r\n    return (dispatch : any) => {\r\n        dispatch(setUserProfile(null))\r\n    }\r\n} // Удаляем из стора загруженный профиль\r\n\r\nexport const getUserStatusThunkCreator = (UserId : number) =>\r\n    async (dispatch : any) => {\r\n        const res = await getUserStatus(UserId)\r\n        dispatch(updateUserStatusAC(res.data))\r\n    }\r\n// Делаем запрос на сервер и диспатчим статус пользователя\r\n\r\nexport const updateUserStatusThunkCreator = (status : string) =>\r\n    async (dispatch : any) => {\r\n        const res = await sendUserStatus(status)\r\n        if (res.data.resultCode === 0) {\r\n            dispatch(updateUserStatusAC(status))\r\n        }\r\n    }\r\n\r\nexport const updateUserProfileSettings = (settings : any) =>\r\n    async (dispatch : any) => {\r\n        const res = await sendUserProfileSettings(settings)\r\n    }\r\n\r\n\r\nexport const uploadUserProfilePhotoThunkCreator = (file : any) =>\r\n    async (dispatch : any) => {\r\n        const res = await sendUserPhoto(file)\r\n        if (res.data.resultCode === 0) {\r\n            dispatch(updateUserPhotoAC(res.data.data.photos))\r\n        }\r\n    }\r\n\r\nexport const addNewPostThunkCreator = (postText : string, login : string) => (dispatch : any) => {\r\n    dispatch(addNewPostAC(postText, login))\r\n}\r\n\r\nexport const loadingPhotoThunk = () => (dispatch : any) => {\r\n    dispatch(loadingPhotoAC())\r\n}\r\n\r\nexport default profileReducer;","const POST_NEW_TEXT = 'POST_NEW_TEXT'\r\n\r\ntype newDialogType = {\r\n    id: number\r\n    name: string\r\n}\r\ntype newPostItemType = {\r\n    id: number\r\n    message: string\r\n}\r\n\r\ntype initialStateType = {\r\n    dialogsData: Array<newDialogType>\r\n    messagesData: Array<newPostItemType>\r\n}\r\n\r\ntype actionType = {\r\n    type : typeof POST_NEW_TEXT\r\n    postText: string\r\n}\r\n\r\nlet initialState : initialStateType  = {\r\n    dialogsData: [],\r\n    messagesData: [],\r\n}\r\n\r\nexport const dialogsReducer = (state = initialState, action : actionType) : initialStateType => {\r\n\r\n    switch (action.type) {\r\n        case POST_NEW_TEXT:\r\n            let newDialog : newDialogType = {\r\n                id: 4,\r\n                name: 'Tema'\r\n            }\r\n            let newPostItem : newPostItemType = {\r\n                id: 4,\r\n                message: action.postText\r\n            }\r\n            return {\r\n                ...state,\r\n                dialogsData: [...state.dialogsData, newDialog],\r\n                messagesData: [...state.messagesData, newPostItem],\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\n\r\nexport const postNewTextActionCreator = (postText : string) => {\r\n    return {\r\n        type: POST_NEW_TEXT,\r\n        postText: postText\r\n    }\r\n}\r\n","let initialState = {\r\n    friends: [\r\n    ]\r\n}\r\n\r\nexport const friendsReducer = (state = initialState, action) => {\r\n    let stateCopy = {...state}\r\n    return stateCopy\r\n}\r\nexport default friendsReducer","import { userType } from './../types/types';\r\nimport { follow, unFollow, getUsers } from '../API/api'\r\n\r\nconst FOLLOW = 'FOLLOW'\r\nconst UNFOLLOW = 'UNFOLLOW'\r\nconst SET_USERS = 'SET_USERS'\r\nconst PAGE_SIZE = 'PAGE_SIZE'\r\nconst TOGGLE_PRELOADER = 'TOGGLE_PRELOADER'\r\nconst TOGGLE_FOLLOWING_PROGRESS = 'TOGGLE_FOLLOWING_PROGRESS'\r\nconst PAGE_COUNT = 'PAGE_COUNT'\r\nconst TOTAL_COUNT = 'TOTAL_COUNT'\r\n\r\n\r\n\r\n\r\nlet initialState = {\r\n    users: [] as Array<userType>,\r\n    pageSize: 100,\r\n    pageCount: 1,\r\n    totalCount: 0,\r\n    isFetching: false,\r\n    followingProgress: [] as Array<number>,\r\n}\r\n\r\ntype initialStateType = typeof initialState\r\n\r\nexport const usersReducer = (state : initialStateType = initialState, action : any) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(user => {\r\n                    if (user.id === action.userId) {\r\n                        return { ...user, followed: true }\r\n                    }\r\n                    return user\r\n                })\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(user => {\r\n                    if (user.id === action.userId) {\r\n                        return { ...user, followed: false }\r\n                    }\r\n                    return user\r\n                })\r\n            }\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                users: [...action.users]\r\n            }\r\n        case PAGE_SIZE:\r\n            return {\r\n                ...state,\r\n                pageSize: action.pageSize\r\n            }\r\n        case PAGE_COUNT:\r\n            return {\r\n                ...state,\r\n                pageCount: action.pageCount\r\n            }\r\n        case TOTAL_COUNT:\r\n            return {\r\n                ...state,\r\n                totalCount: action.totalCount\r\n            }\r\n        case TOGGLE_PRELOADER:\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        case TOGGLE_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingProgress: action.followingProgress ? [...state.followingProgress, action.userId]\r\n                    : state.followingProgress.filter(id => id !== action.userId)\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\ntype followACType = {\r\n    type: typeof FOLLOW\r\n    userId: number\r\n}\r\nexport const followAC = (userId : number) : followACType => ({ type: FOLLOW, userId })\r\n\r\ntype unfollowACType = {\r\n    type: typeof UNFOLLOW\r\n    userId: number\r\n}\r\nexport const unfollowAC = (userId : number) : unfollowACType => ({ type: UNFOLLOW, userId })\r\n\r\ntype setUsersACType = {\r\n    type: typeof SET_USERS\r\n    users: Array<userType>\r\n}\r\nexport const setUsersAC = (users : Array<userType>) : setUsersACType => ({ type: SET_USERS, users })\r\n\r\ntype pageSizeACType = {\r\n    type: typeof PAGE_SIZE\r\n    pageSize: number\r\n}\r\nexport const pageSizeAC = (pageSize : number) : pageSizeACType => ({ type: PAGE_SIZE, pageSize })\r\n\r\ntype pageCountACType = {\r\n    type: typeof PAGE_COUNT\r\n    pageCount: number\r\n}\r\nexport const pageCountAC = (pageCount: number) : pageCountACType => ({ type: PAGE_COUNT, pageCount })\r\n\r\ntype totalCountARType = {\r\n    type: typeof TOTAL_COUNT\r\n    totalCount: number\r\n}\r\nexport const totalCountAR = (totalCount : number) : totalCountARType => ({ type: TOTAL_COUNT, totalCount })\r\n\r\ntype togglePreloaderACType = {\r\n    type: typeof TOGGLE_PRELOADER\r\n    isFetching: boolean\r\n}\r\nexport const togglePreloaderAC = (isFetching : boolean) : togglePreloaderACType => ({ type: TOGGLE_PRELOADER, isFetching })\r\n\r\ntype toggleFollowingProgressACType = {\r\n    type: typeof TOGGLE_FOLLOWING_PROGRESS\r\n    followingProgress: boolean\r\n    userId: number\r\n}\r\nexport const toggleFollowingProgressAC = (followingProgress : boolean, userId: number) : toggleFollowingProgressACType => \r\n({ type: TOGGLE_FOLLOWING_PROGRESS, followingProgress, userId })\r\n\r\nexport const getUsersThunkCreator = (pageSize: number, pageCount : number) =>\r\n    async (dispatch : any) => {\r\n        dispatch(pageCountAC(pageCount))\r\n        const res = await getUsers(pageSize, pageCount)\r\n        dispatch(setUsersAC(res.items))\r\n        dispatch(totalCountAR(res.totalCount))\r\n    }\r\n\r\n\r\nexport const removeUsersThunkCreator = () => {\r\n    return (dispatch : any) => {\r\n        dispatch(setUsersAC([]))\r\n    }\r\n}\r\n\r\nexport const followThunkCreator = (userId : number) =>\r\n\r\n    async (dispatch : any) => {\r\n        dispatch(toggleFollowingProgressAC(true, userId))\r\n        const res = await follow(userId)\r\n        if (res.data.resultCode === 0) {\r\n            dispatch(followAC(userId))\r\n        }\r\n        dispatch(toggleFollowingProgressAC(false, userId))\r\n    }\r\n\r\n\r\nexport const unFollowThunkCreator = (userId : number) =>\r\n    async (dispatch : any) => {\r\n        dispatch(toggleFollowingProgressAC(true, userId))\r\n        const res = await unFollow(userId)\r\n        if (res.data.resultCode === 0) {\r\n            dispatch(unfollowAC(userId))\r\n        }\r\n        dispatch(toggleFollowingProgressAC(false, userId))\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import { loginMe, logInProfile, getCaptcha, logOutMe } from '../API/api'\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA'\r\nconst LOGGED_IN_TOGGLE = 'LOGGED_IN_TOGGLE'\r\nconst LOGGED_IN_FETCHING = 'LOGGED_IN_FETCHING'\r\nconst CAPTCHA = 'CAPTCHA'\r\n\r\ntype initialStateType = {\r\n    userId: number | null\r\n    email: string | null\r\n    login: string | null\r\n    isLoggedIn: boolean\r\n    isFetching: boolean\r\n    confirmation: boolean\r\n    captchaImg: string\r\n}\r\n\r\n\r\nlet initialState : initialStateType = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isLoggedIn: false,\r\n    isFetching: false,\r\n    confirmation: false,\r\n    captchaImg: '',\r\n}\r\n\r\nexport const authReducer = (state = initialState, action : any) : initialStateType => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.data,\r\n            }\r\n        case LOGGED_IN_TOGGLE:\r\n            return {\r\n                ...state,\r\n                isLoggedIn: action.isLoggedIn\r\n            }\r\n        case LOGGED_IN_FETCHING:\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching,\r\n                confirmation: action.confirmation\r\n            }\r\n        case CAPTCHA:\r\n            return {\r\n                ...state,\r\n                captchaImg: action.captchaImg\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\ntype setUserDataACDataType = {\r\n    userId: null | number\r\n    email: null | string\r\n    login: null | string\r\n    isLoggedIn: null | boolean\r\n}\r\ntype setUserDataACType = {\r\n    type : typeof SET_USER_DATA\r\n    data : setUserDataACDataType\r\n}\r\n\r\nexport const setUserDataAC = \r\n(userId : number | null, email : string | null, login : string | null, isLoggedIn : boolean) \r\n: setUserDataACType => {\r\n    return {\r\n        type: SET_USER_DATA,\r\n        data: { userId, email, login, isLoggedIn: isLoggedIn },\r\n    }\r\n}\r\n\r\n\r\ntype LoggedInTogglegACType = {\r\n    type : typeof LOGGED_IN_TOGGLE\r\n    isLoggedIn : boolean\r\n}\r\nexport const LoggedInTogglegAC = (isLoggedIn : boolean) : LoggedInTogglegACType => {\r\n    return {\r\n        type: LOGGED_IN_TOGGLE,\r\n        isLoggedIn: isLoggedIn\r\n    }\r\n}\r\n\r\ntype LoggedInFetchingACType = {\r\n    type : typeof LOGGED_IN_FETCHING\r\n    isFetching: boolean\r\n    confirmation: boolean\r\n}\r\n\r\nexport const LoggedInFetchingAC = (isFetching : boolean, confirmation : boolean) : LoggedInFetchingACType => {\r\n    return {\r\n        type: LOGGED_IN_FETCHING,\r\n        isFetching: isFetching,\r\n        confirmation: confirmation\r\n    }\r\n}\r\n\r\ntype captchaType = {\r\n    type: typeof CAPTCHA\r\n    captchaImg: string\r\n}\r\nexport const captcha = (captchaImg : string) : captchaType => ({\r\n    type: CAPTCHA,\r\n    captchaImg: captchaImg\r\n})\r\n\r\nexport const logInUserThunkCreator = () => async (dispatch : any) => {\r\n    dispatch(LoggedInFetchingAC(true, false))\r\n    const res = await logInProfile()\r\n    if (res.data.resultCode === 0) {\r\n        let { id, email, login } = res.data.data\r\n        dispatch(setUserDataAC(id, email, login, true))\r\n    }\r\n    dispatch(LoggedInFetchingAC(false, true))\r\n}\r\n\r\nexport const login = (email : string, password : string, rememberMe : boolean, captcha : any) =>\r\n    async (dispatch : any) => {\r\n        const res = await loginMe(email, password, rememberMe, captcha)\r\n        if (res.data.resultCode === 0) {\r\n            dispatch(logInUserThunkCreator())\r\n        }\r\n        if (res.data.resultCode === 10) {\r\n            dispatch(getCaptchaThunk())\r\n        }\r\n    }\r\n\r\n\r\nexport const logOut = () =>\r\n    async (dispatch : any) => {\r\n        const res = await logOutMe()\r\n        if (res.data.resultCode === 0) {\r\n            dispatch(setUserDataAC(null, null, null, false))\r\n        }\r\n    }\r\n\r\n\r\nexport const getCaptchaThunk = () =>\r\n    async (dispatch : any) => {\r\n        const res = await getCaptcha()\r\n        dispatch(captcha(res.data.url))\r\n    }\r\n\r\n\r\n","import { logInUserThunkCreator } from \"../OldReducers/authReducer\"\r\n\r\nconst INITIALIZED_SUCCSESS = 'INITIALIZED_SUCCSESS'\r\n\r\ntype initialStateType = {\r\n    initialized : boolean\r\n}\r\n\r\ntype actionType = {\r\n    type: typeof INITIALIZED_SUCCSESS\r\n}\r\n\r\nlet initialState : initialStateType = {\r\n    initialized: false,\r\n}\r\n\r\nexport const appReducer = (state = initialState, action : actionType) : initialStateType => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCSESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const initializeSuccsess = () : actionType => ({ type: INITIALIZED_SUCCSESS })\r\n\r\nexport const initializeApp = () => (dispatch : Function) => {\r\n    let logInUserPromise = dispatch(logInUserThunkCreator())\r\n    Promise.all([logInUserPromise]).then(() => {\r\n        dispatch(initializeSuccsess())\r\n    })\r\n}","import {\r\n    getUserProfile,\r\n} from '../API/api'\r\n\r\nconst SET_USER_PROFILE_PHOTO : string = 'SET_USER_PROFILE_PHOTO';\r\n\r\nexport type initialStateType = {\r\n    userProfilePhoto: string\r\n}\r\n\r\ntype actionType = {\r\n    type: string,\r\n    userProfilePhoto: string,\r\n}\r\n\r\nlet initialState : initialStateType = {\r\n    userProfilePhoto: '',\r\n}\r\n\r\nexport const headerReducer = (state = initialState, action : actionType) : initialStateType => {\r\n    switch(action.type) {\r\n        case SET_USER_PROFILE_PHOTO: {\r\n            return { ...state, userProfilePhoto: action.userProfilePhoto }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const setUserProfilePhoto = (userProfilePhoto : string) : actionType => ({type: SET_USER_PROFILE_PHOTO, userProfilePhoto})\r\n\r\nexport const getUserProfilePhotoThunk = (UserId : string) => \r\n    async (dispatch : any) => {\r\n        const res = await getUserProfile(UserId) \r\n        dispatch(setUserProfilePhoto(res.data.photos.small))\r\n    }\r\n","import { applyMiddleware, combineReducers, createStore, compose } from 'redux'\r\nimport { profileReducer } from './profileReducerTypescript'\r\nimport { dialogsReducer } from './dialogsReducerTypescript'\r\nimport { friendsReducer } from '../OldReducers/friendsReducer'\r\nimport { usersReducer } from './usersReducerTypescript'\r\nimport { authReducer } from './authReducerTypescript'\r\nimport { appReducer } from './appReducerTypescript'\r\nimport { headerReducer } from './myFirstTypescriptReducer'\r\nimport thunkMiddleware from 'redux-thunk'\r\n\r\n\r\nlet reducers = combineReducers({\r\n    profileReducer,\r\n    dialogsReducer,\r\n    friendsReducer,\r\n    usersReducer,\r\n    authReducer,\r\n    appReducer,\r\n    headerReducer\r\n})\r\n\r\ntype RootReducerType = typeof reducers\r\nexport type AppStateType = ReturnType<RootReducerType>\r\n\r\n//@ts-ignore\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)))\r\n\r\n// let store = createStore(reducers, applyMiddleware(thunkMiddleware))\r\n\r\n//@ts-ignore\r\nwindow.store = store\r\n\r\nexport default store","import { logInUserThunkCreator } from \"./authReducer\"\r\n\r\nconst INITIALIZED_SUCCSESS = 'INITIALIZED_SUCCSESS'\r\nlet initialState = {\r\n    initialized: false,\r\n}\r\n\r\nexport const appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCSESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const initializeSuccsess = () => ({ type: INITIALIZED_SUCCSESS })\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let logInUserPromise = dispatch(logInUserThunkCreator())\r\n    Promise.all([logInUserPromise]).then(() => {\r\n        dispatch(initializeSuccsess())\r\n    })\r\n}","import { applyMiddleware, combineReducers, createStore, compose } from 'redux'\r\nimport { profileReducer } from '../redux/profileReducerTypescript'\r\nimport { dialogsReducer } from '../redux/dialogsReducerTypescript'\r\nimport { friendsReducer } from './friendsReducer'\r\nimport { usersReducer } from '../redux/usersReducerTypescript'\r\nimport { authReducer } from '../redux/authReducerTypescript'\r\nimport { appReducer } from '../redux/appReducerTypescript'\r\nimport { headerReducer } from '../redux/myFirstTypescriptReducer'\r\nimport thunkMiddleware from 'redux-thunk'\r\n\r\n\r\nlet reducers = combineReducers({\r\n    profileReducer,\r\n    dialogsReducer,\r\n    friendsReducer,\r\n    usersReducer,\r\n    authReducer,\r\n    appReducer,\r\n    headerReducer\r\n})\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n// let store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nwindow.store = store\r\n\r\nexport default store","import React from 'react'\r\nimport classes from './Nav.module.css'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\n\r\n\r\nconst Nav = function (props) {\r\n  return (\r\n    \r\n    <div className={classes.nav}>\r\n      \r\n      <nav >\r\n        <div className={classes.item}>\r\n          <NavLink to='/Profile/' activeClassName={classes.active}>My Profile</NavLink>\r\n        </div>\r\n        <div className={classes.item}>\r\n          <NavLink to='/Dialogs' activeClassName={classes.active}>Messages</NavLink>\r\n        </div>\r\n        <div className={classes.item}>\r\n          <NavLink to='/Users' activeClassName={classes.active}>Users</NavLink>\r\n        </div>\r\n        <div className={classes.item}>\r\n          <NavLink to='/Music' activeClassName={classes.active}>Music</NavLink>\r\n        </div>\r\n        <div className={classes.item}>\r\n          <NavLink to='/Settings' activeClassName={classes.active}>Settings</NavLink>\r\n        </div>\r\n      </nav>\r\n        \r\n      \r\n\r\n    </div>\r\n  )\r\n}\r\nexport default Nav ","import React from 'react'\r\nimport classes from './Music.module.css'\r\nconst Music = (props) => {\r\n    return (\r\n        <div className={classes.contentColor}>\r\n            <h1>\r\n                Music\r\n            </h1>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music","import React from 'react'\r\nimport classes from './Header.module.css'\r\nimport { NavLink } from 'react-router-dom'\r\nimport defaultAvatar from '../../assets/defaultAvatar.png'\r\nimport { headerPropsType } from '../../types/types'\r\n\r\n\r\n\r\nconst Header: React.FC<headerPropsType> = (props) => {\r\n\r\n    console.log(typeof props.userId)\r\n    const logout = () => {\r\n        props.logOut()\r\n    }\r\n\r\n    let userSettings = document.getElementById('profileSettings')\r\n\r\n    const showUserSettingsContainer = () => {\r\n        if (userSettings)\r\n            userSettings.style.display = 'block';\r\n    }\r\n    const hideUserSettingsContainer = () => {\r\n        if (userSettings)\r\n            userSettings.style.display = 'none';\r\n    }\r\n\r\n    return (\r\n        <header className={classes.header}>\r\n            <div className={classes.login}>\r\n                {props.isLoggedIn ?\r\n                    <div\r\n                        onMouseOver={showUserSettingsContainer}\r\n                        onMouseOut={hideUserSettingsContainer}>\r\n\r\n                        <div\r\n                            className={classes.userInfo}>\r\n                            <div className={classes.userLogin}>\r\n                                <div><span>{props.login}</span></div>\r\n                            </div>\r\n                            <NavLink to='/Profile'>\r\n                                <div className={classes.userAvatar}>\r\n                                    <img src={props.userProfilePhoto || defaultAvatar} alt=\"User avatar\" />\r\n                                </div>\r\n                            </NavLink>\r\n                        </div>\r\n                        <div id='profileSettings' className={classes.profileSettings}>\r\n                            <div>\r\n                                <button onClick={logout}>Log out</button>\r\n                            </div>\r\n                            <div>\r\n                                <NavLink to='/Settings'>\r\n                                    <button onClick={hideUserSettingsContainer} >\r\n                                        Profile settings\r\n                                </button>\r\n                                </NavLink>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    : <NavLink to='/Login'> <button>Login</button></NavLink>}\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\nexport default Header","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport Header from './HeaderTS'\r\nimport { logOut } from '../../OldReducers/authReducer'\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { compose } from 'redux';\r\nimport { getUserProfilePhotoThunk } from '../../OldReducers/headerRecuder';\r\nimport { AppStateType } from '../../redux/reduxStoreTS';\r\nimport { headerPropsType } from '../../types/types';\r\n\r\n\r\n\r\nclass HeaderContainer extends React.Component<headerPropsType> {\r\n\r\n    componentDidMount() { \r\n        this.props.getUserProfilePhotoThunk(this.props.userId)\r\n    }\r\n\r\n    render() {\r\n        return <Header {...this.props} />\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state : AppStateType) => ({\r\n    isLoggedIn: state.authReducer.isLoggedIn,\r\n    login: state.authReducer.login,\r\n    isFetching: state.authReducer.isFetching,\r\n    userId: state.authReducer.userId,\r\n    userProfilePhoto: state.headerReducer.userProfilePhoto\r\n})\r\n\r\nexport default compose(\r\n    withRouter,\r\n    connect(mapStateToProps, { logOut, getUserProfilePhotoThunk })\r\n)(HeaderContainer) ","import React from 'react'\r\nimport classes from './PageButton.module.css'\r\nimport { propsType } from './PaginatorTS'\r\nimport cn from 'classnames'\r\n\r\ninterface PageButtonProps extends propsType {\r\n    button: number\r\n}\r\n\r\nconst PageButton = (props: PageButtonProps) => {\r\n\r\n    const switchPage = () => {\r\n        props.removeUsers()\r\n        props.getUsers(props.pageSize, props.button)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div>\r\n                <button\r\n                    key={props.button}\r\n                    className={cn({\r\n                        [classes.checkedButton] : props.button === props.pageCount\r\n                    })}\r\n                    onClick={switchPage}>\r\n                    {props.button}\r\n                </button>\r\n            </div>\r\n        </>\r\n\r\n    )\r\n}\r\n\r\nexport default PageButton","import React, { useState } from 'react'\r\nimport PageButtonTS from './PageButtonTS'\r\nimport classes from './PageButton.module.css'\r\n\r\nexport type propsType = {\r\n    pageSize: number\r\n    totalCount: number\r\n    pageCount: number\r\n    getUsers: (\r\n        pageSize: number,\r\n        button: number\r\n    ) => any\r\n    removeUsers: () => any\r\n}\r\n\r\nconst Paginator : React.FC<propsType> = (props) => {\r\n\r\n    const buttonsPortion : number = 5\r\n    let touchedDecrementButton : boolean = false\r\n    const [initialPage, setInitialPage] = useState(props.pageCount)\r\n    const [numberOfShowedButtons] = useState(7)\r\n    const [decrementNumber, setDecrementNumber] = useState(buttonsPortion)\r\n    const [incrementNumber, setIncrementNumber] = useState(buttonsPortion)\r\n    const numberOfPageButtons = Math.ceil(props.totalCount / props.pageSize)\r\n\r\n\r\n    const incrementInitialPage = () => {\r\n        setInitialPage(initialPage + incrementNumber)\r\n    }\r\n\r\n    const decrementInitialPage = () => {\r\n        setInitialPage(initialPage - decrementNumber)\r\n        touchedDecrementButton = true\r\n        if (touchedDecrementButton && decrementNumber !== buttonsPortion) setDecrementNumber(buttonsPortion)\r\n\r\n    }\r\n\r\n    const createButtonsArray = () : Array<number> => {\r\n        let buttonsInitializeArray : Array<number> = []\r\n        for (let i = initialPage; i < numberOfPageButtons + 1; i++) {\r\n            buttonsInitializeArray.push(i)\r\n        }\r\n\r\n        if (initialPage === 1) {\r\n            return buttonsInitializeArray\r\n        }\r\n        else if (initialPage - decrementNumber < 0) {\r\n            setDecrementNumber((decrementNumber - 1) + (initialPage - decrementNumber))\r\n        }\r\n\r\n        return buttonsInitializeArray\r\n    }\r\n\r\n    let buttons = createButtonsArray().map(function (button) {\r\n        if (button > initialPage + numberOfShowedButtons - 1) {\r\n            return\r\n        }\r\n        return <PageButtonTS\r\n            button={button}\r\n            pageSize={props.pageSize}\r\n            getUsers={props.getUsers}\r\n            pageCount={props.pageCount}\r\n            totalCount={props.totalCount}\r\n            removeUsers={props.removeUsers}\r\n        />\r\n    })\r\n\r\n    return (\r\n        <div className={classes.buttonsContainer}>\r\n            {initialPage === 1\r\n                ? null\r\n                : <div>\r\n                    <button onClick={decrementInitialPage}>назад</button>\r\n                </div>}\r\n            {buttons}\r\n            {numberOfPageButtons - incrementNumber <= initialPage\r\n                ? null\r\n                : <div>\r\n                    <button onClick={incrementInitialPage}>Вперед</button>\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Paginator","import React from 'react'\r\nimport classes from './User.module.css'\r\nimport defaultAvatar from '../../../assets/defaultAvatar.png'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\ntype userType = {\r\n    key: number\r\n    id: number\r\n    name: string\r\n    status: string | null\r\n    photo: string | null\r\n    followed: boolean\r\n    followingProgress: Array<number>\r\n    followThunkCreator: (id: number) => void\r\n    unFollowThunkCreator: (id: number) => void\r\n}\r\n\r\nconst User = (props : userType) => {\r\n\r\n    let {\r\n        id,\r\n        photo,\r\n        followed,\r\n        followingProgress,\r\n        unFollowThunkCreator,\r\n        followThunkCreator,\r\n        name,\r\n        status\r\n    } = props\r\n\r\n    let slicedStatus = null\r\n\r\n    if (status && status.length > 50) {\r\n        slicedStatus = status.slice(1,50) + '...'\r\n    }\r\n    \r\n    return (\r\n        <div className={classes.user}>\r\n            <div className={classes.logoBlock}>\r\n                <div>\r\n                    <NavLink to={'/Users/' + id} >\r\n                        <img src={photo == null ? defaultAvatar : photo} alt=\"UserPhoto\" />\r\n                    </NavLink>\r\n                </div>\r\n                <div>\r\n                    {followed\r\n                        ? <button disabled={followingProgress.some(userId => userId === id)} onClick={() => {\r\n                            unFollowThunkCreator(id)\r\n\r\n                        }}>Unfollow</button>\r\n                        : <button disabled={followingProgress.some(userId => userId === id)} onClick={() => {\r\n                            followThunkCreator(id)\r\n                        }}>Follow</button>}\r\n\r\n                </div>\r\n            </div>\r\n            <div className={classes.infoBlock}>\r\n                <div className={classes.name}>{name}</div>\r\n                <div className={classes.status}>{slicedStatus || status}</div>\r\n                <div className={classes.country}>Belarus<i>(hardcode)</i>,</div>\r\n                <div className={classes.city}>Bralaw<i>(hardcode)</i></div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default User","import React from 'react'\r\nimport PaginatorTS from './Paginator/PaginatorTS'\r\nimport User from './User/UserTS'\r\nimport classes from './Users.module.css'\r\nimport { usersPropsType } from '../../types/types'\r\n\r\n\r\nconst UsersTS : React.FC<usersPropsType> = (props) => {\r\n    let users = props.users.map(user => <User\r\n        key={user.id}\r\n        id={user.id}\r\n        name={user.name}\r\n        status={user.status}\r\n        photo={user.photos.small}\r\n        followed={user.followed}\r\n        followingProgress={props.followingProgress}\r\n        followThunkCreator={props.followThunkCreator}\r\n        unFollowThunkCreator={props.unFollowThunkCreator}\r\n    />)\r\n\r\n    return (\r\n        <div className={classes.users}>\r\n            <div>\r\n                {users}\r\n            </div>\r\n            <PaginatorTS\r\n                pageSize={props.pageSize}\r\n                totalCount={props.totalCount}\r\n                getUsers={props.getUsers}\r\n                pageCount={props.pageCount}\r\n                removeUsers={props.removeUsers}\r\n                />\r\n                \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UsersTS","import React from 'react'\r\nimport UsersTS from './UsersTS';\r\nimport { usersPropsType } from '../../types/types'\r\nimport Preloader from '../Common/Preloader/Preloader';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n    pageSizeAC,\r\n    getUsersThunkCreator,\r\n    followThunkCreator,\r\n    unFollowThunkCreator,\r\n    removeUsersThunkCreator,\r\n    pageCountAC\r\n} from '../../redux/usersReducerTypescript'\r\nimport { compose } from 'redux';\r\nimport { LoggedInRedirect } from '../../hoc/LoggedInRedirect'\r\nimport {\r\n    getUsersSuper,\r\n    usersSelectors\r\n} from '../../OldReducers/selectors'\r\nimport { AppStateType } from '../../redux/reduxStoreTS';\r\n\r\ninterface PropsType extends usersPropsType {\r\n    getUsersThunkCreator: (pageSize: number, pageCount: number) => void\r\n    removeUsersThunkCreator: () => void\r\n}\r\n\r\nclass UsersInnerContainer extends React.Component<PropsType> {\r\n\r\n\r\n    componentDidMount() {\r\n        this.props.getUsersThunkCreator(this.props.pageSize, this.props.pageCount)\r\n    }\r\n    componentWillUnmount() {\r\n        this.props.removeUsersThunkCreator()\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.users.length) {\r\n            return <Preloader />\r\n        }\r\n        return (\r\n            <>\r\n                <UsersTS\r\n                    users={this.props.users}\r\n                    pageSize={this.props.pageSize}\r\n                    totalCount={this.props.totalCount}\r\n                    followingProgress={this.props.followingProgress}\r\n                    followThunkCreator={this.props.followThunkCreator}\r\n                    unFollowThunkCreator={this.props.unFollowThunkCreator}\r\n                    getUsers={this.props.getUsersThunkCreator}\r\n                    removeUsers={this.props.removeUsersThunkCreator}\r\n                    pageCount={this.props.pageCount}\r\n                />\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state: AppStateType) => {\r\n    return {\r\n        users: getUsersSuper(state),\r\n        pageSize: usersSelectors.getPageSize(state),\r\n        pageCount: usersSelectors.getPageCount(state),\r\n        totalCount: usersSelectors.getTotalCount(state),\r\n        isFetching: usersSelectors.getIsFetching(state),\r\n        followingProgress: usersSelectors.getFollowingProgrress(state),\r\n    }\r\n}\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        pageSizeAC,\r\n        getUsersThunkCreator,\r\n        removeUsersThunkCreator,\r\n        followThunkCreator,\r\n        unFollowThunkCreator,\r\n        pageCountAC,\r\n    }),\r\n    LoggedInRedirect\r\n)(UsersInnerContainer)","import React from 'react' \r\nimport classes from './Login.module.css'\r\n\r\n\r\nconst TextError = (props) => {\r\n    return (\r\n        <div className={classes.error}>\r\n            {props.children}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TextError","import React from 'react' \r\nimport { Field, ErrorMessage } from 'formik'\r\nimport TextError from './TextError'\r\n\r\nconst FormikCheckbox = (props) => {\r\n    const { name, label, options, ...rest } = props\r\n    return (\r\n        <div >\r\n            <Field name={name} {...rest}>\r\n                {\r\n                    ({ field }) => {\r\n                        return options.map(option => {\r\n                            return (\r\n                                <React.Fragment key={option.key}>\r\n                                    <div>\r\n                                    <label htmlFor={option.value}>{option.key}</label>\r\n                                    </div>\r\n                                    <input\r\n                                        type=\"checkbox\"\r\n                                        id={option.value}\r\n                                        {...field}\r\n                                        value={option.value}\r\n                                        checked={field.value.length === 2} />\r\n                                </React.Fragment>\r\n                            )\r\n                        })\r\n                    }\r\n                }\r\n            </Field>\r\n            <ErrorMessage name={name} component={TextError} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FormikCheckbox","import React from 'react'\r\nimport DateView from 'react-datepicker'\r\nimport 'react-datepicker/dist/react-datepicker.css'\r\nimport { Field, ErrorMessage } from 'formik'\r\nimport TextError from './TextError'\r\nimport classes from './Login.module.css'\r\n\r\nconst FormikDatePicker = (props) => {\r\n    const { label, name, ...rest } = props\r\n    return (\r\n        <div className={classes.formControl}>\r\n            <label htmlFor={name}>{label}</label>\r\n            <Field name={name}>\r\n                {\r\n                    ({ form, field }) => {\r\n                        const { setFieldValue } = form\r\n                        const { value } = field\r\n                        return <DateView\r\n                            id={name}\r\n                            {...field}\r\n                            {...rest}\r\n                            selected={value}\r\n                            onChange={val => setFieldValue(name, val)} />\r\n                    }\r\n                }\r\n            </Field>\r\n            <ErrorMessage name={name} component={TextError}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FormikDatePicker","import React from 'react'\r\nimport { Field, ErrorMessage } from 'formik'\r\nimport TextError from './TextError'\r\nimport classes from './Login.module.css'\r\nimport cn from 'classnames'\r\n\r\nconst Input = (props) => {\r\n    return <div className={classes.formControl}>\r\n        <label htmlFor={props.name}>{props.label}</label>\r\n        <div>\r\n            <Field\r\n                className={props.className}\r\n                id={props.name}\r\n                name={props.name}\r\n                type={props.type}\r\n                autocomplete={props.autocomplete} />\r\n            <ErrorMessage name={props.name} component={TextError} />\r\n        </div>\r\n    </div>\r\n}\r\n\r\nconst FormikInput = (props) => {\r\n    const {\r\n        label,\r\n        name,\r\n        email,\r\n        password,\r\n        touchedEmail,\r\n        touchedPassword,\r\n        type\r\n    } = props\r\n\r\n    return (\r\n        <>\r\n            <Input className={cn({\r\n                [classes.alert]: touchedEmail && !email || touchedPassword && !password\r\n            })}\r\n                name={name}\r\n                label={label}\r\n                type={type} />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default FormikInput","import React from 'react'\r\nimport { Field, ErrorMessage } from 'formik'\r\nimport TextError from './TextError'\r\n\r\nconst FormikRadioButtons = (props) => {\r\n    const { name, label, options, ...rest } = props\r\n    return (\r\n        <div >\r\n            <label htmlFor={name}>{label}</label>\r\n            <div></div>\r\n            <Field name={name} {...rest}>\r\n                {\r\n                    ({ field }) => {\r\n                        console.log('field',field)\r\n                        return options.map(option => {\r\n                            return (\r\n                                <React.Fragment key={option.key}>\r\n                                    <input\r\n                                        type=\"radio\"\r\n                                        id={option.value}\r\n                                        {...field}\r\n                                        value={option.value}\r\n                                        checked={field.value === option.value} />\r\n                                        <label htmlFor={option.value}>{option.key}</label>\r\n                                </React.Fragment>\r\n                            )\r\n                        })\r\n                    }\r\n                }\r\n            </Field>\r\n            <ErrorMessage name={name} component={TextError} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FormikRadioButtons","import React from 'react'\r\nimport { Field, ErrorMessage } from 'formik'\r\nimport TextError from './TextError'\r\nimport classes from './Login.module.css'\r\n\r\nconst FormikSelect = (props) => {\r\n    const { label, name, options, ...rest } = props\r\n    return (\r\n        <div className={classes.formControl}>\r\n            <label htmlFor={name}>{label}</label>\r\n            <Field as='select' id={name} name={name} {...rest}>\r\n                {\r\n                    options.map(option => {\r\n                        return <option key={option.value} value={option.value}>\r\n                            {option.key}\r\n                        </option>\r\n                    })\r\n                }\r\n            </Field>\r\n            <ErrorMessage name={name} component={TextError} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FormikSelect","import React from 'react' \r\nimport { Field, ErrorMessage} from 'formik'\r\nimport TextError from './TextError'\r\nimport classes from './Login.module.css'\r\n\r\nconst FormikTextArea = (props) => {\r\n    const { label, name, ...rest } = props\r\n    return (\r\n        <div className={classes.formControl}>\r\n            <label htmlFor={name}>{label}</label>\r\n            <Field as='textarea' id={name} name={name} {...rest}/>\r\n            <ErrorMessage name={name} component={TextError}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FormikTextArea","import React from 'react'\r\nimport FormikCheckbox from './FormikCheckbox'\r\nimport FormikDatePicker from './FormikDatePicker'\r\nimport FormikInput from './FormikInput'\r\nimport FormikRadioButtons from './FormikRadioButtons'\r\nimport FormikSelect from './FormikSelect'\r\nimport FormikTextArea from './FormikTextArea'\r\n\r\nconst FormikControl = (props) => {\r\n    const { control, ...rest } = props\r\n    switch (control) {\r\n        case 'input': return <FormikInput {...rest} />\r\n        case 'textarea': return <FormikTextArea {...rest} />\r\n        case 'select': return <FormikSelect {...rest} />\r\n        case 'radio': return <FormikRadioButtons {...rest} />\r\n        case 'checkbox': return <FormikCheckbox {...rest} /> \r\n        case 'date': return <FormikDatePicker {...rest} />\r\n        default: return null\r\n    }\r\n}\r\n\r\nexport default FormikControl","import React from 'react'\r\nimport { Formik, Form } from 'formik'\r\nimport FormikControl from '../Common/FormControls/FormikControl'\r\nimport * as Yup from 'yup'\r\nimport { login } from '../../OldReducers/authReducer'\r\nimport { connect } from 'react-redux'\r\nimport { Redirect } from 'react-router-dom'\r\nimport classes from './LoginForm.module.css'\r\n\r\nconst LoginForm = (props) => {\r\n\r\n    const { login, isLoggedIn, captchaImg } = props\r\n\r\n\r\n    const initialValues = {\r\n        email: '',\r\n        password: '',\r\n        rememberMe: true,\r\n        captcha: '',\r\n    }\r\n\r\n    const validationSchema = Yup.object({\r\n        email: Yup.string().email('Invalid email format').required('Enter email'),\r\n        password: Yup.string().required('Enter password'),\r\n    })\r\n\r\n    const onSubmit = values => {\r\n        login(values.email, values.password, values.rememberMe, values.captcha)\r\n    }\r\n\r\n    if (isLoggedIn) { return <Redirect to={'/Profile'} /> } // Проверяем, если мы залогинены, то редиректим на профиль\r\n\r\n    return (\r\n        <Formik initialValues={initialValues} validationSchema={validationSchema} onSubmit={onSubmit}>\r\n            {\r\n                formik => {\r\n                    return <Form>\r\n                        <h1>Login</h1>\r\n                        <FormikControl\r\n                            email={formik.values.email}\r\n                            touchedEmail={formik.touched.email}\r\n                            control='input'\r\n                            type='email'\r\n                            label='Email'\r\n                            name='email' />\r\n                        <FormikControl\r\n                            password={formik.values.password}\r\n                            touchedPassword={formik.touched.password}\r\n                            control='input'\r\n                            type='password'\r\n                            label='Password'\r\n                            name='password'\r\n                        />\r\n                        <p></p>\r\n                        <input type='submit' disabled={!formik.isValid} value={'Login'} />\r\n                        {!captchaImg ?\r\n                            null\r\n                            : <div className={classes.captchaImg}>\r\n                                <p></p>\r\n                                <img src={captchaImg} alt=\"captcha\" />\r\n                                <FormikControl\r\n                                    control='input'\r\n                                    label='Enter your captcha'\r\n                                    name='captcha'\r\n                                />\r\n                            </div>\r\n                        }\r\n                    </Form>\r\n                }\r\n            }\r\n        </Formik>\r\n    )\r\n}\r\nexport let mapStateToProps = (state) => {\r\n    return {\r\n        isLoggedIn: state.authReducer.isLoggedIn,\r\n        captchaImg: state.authReducer.captchaImg\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, { login })(LoginForm)","import React from 'react'\r\nimport Preloader from '../components/Common/Preloader/Preloader'\r\n\r\nexport const WithSuspense = (Component) => {\r\n    return (props) => {\r\n        return <React.Suspense fallback={<Preloader />}>\r\n            <Component {...props}/>\r\n        </React.Suspense> \r\n    }\r\n}\r\n\r\n","import React from 'react'\r\nimport { Formik, Form, Field } from 'formik'\r\nimport FormikControl from '../Common/FormControls/FormikControl'\r\nimport * as Yup from 'yup'\r\n\r\n\r\nconst Settings = (props) => {\r\n    \r\n    const { fullName, aboutMe, lookingForAJob, lookingForAJobDescription } = props.profile\r\n    const { facebook, github, instagram, mainLink, twitter, vk, website, youtube } = props.profile.contacts\r\n\r\n\r\n    const validationSchema = Yup.object().shape({\r\n        contacts: Yup.object().shape({\r\n            github: Yup.string().url('Invalid URL!'),\r\n            vk: Yup.string().url('Invalid URL!'),\r\n            facebook: Yup.string().url('Invalid URL!'),\r\n            instagram: Yup.string().url('Invalid URL!'),\r\n            twitter: Yup.string().url('Invalid URL!'),\r\n            website: Yup.string().url('Invalid URL!'),\r\n            youtube: Yup.string().url('Invalid URL!'),\r\n            mainLink: Yup.string().url('Invalid URL!')\r\n        })\r\n    })\r\n\r\n    const initialValues = {\r\n        fullName: fullName,\r\n        aboutMe: aboutMe,\r\n        lookingForAJob: lookingForAJob,\r\n        lookingForAJobDescription: lookingForAJobDescription,\r\n        contacts: {\r\n            github: github,\r\n            vk: vk,\r\n            facebook: facebook,\r\n            instagram: instagram,\r\n            twitter: twitter,\r\n            website: website,\r\n            youtube: youtube,\r\n            mainLink: mainLink,\r\n        },\r\n    }\r\n\r\n    const onSubmit = (values) => {\r\n        console.log('Submitting')\r\n        async function sendProfileSettings() {\r\n            await props.sendProfileSettings(values)\r\n        }\r\n        return sendProfileSettings()\r\n    }\r\n\r\n    return (\r\n        \r\n        <>\r\n            <Formik\r\n                initialValues={initialValues}\r\n                onSubmit={onSubmit}\r\n                validationSchema={validationSchema}\r\n                validateOnChange={false}\r\n                >\r\n                {\r\n                    formik => {\r\n                        \r\n                        return <Form>\r\n                            <h1>Profile settings</h1>\r\n                            <FormikControl\r\n                                control='input'\r\n                                label='Full Name'\r\n                                name='fullName'\r\n                            />\r\n                            <FormikControl\r\n                                control='input'\r\n                                label='About me'\r\n                                name='aboutMe'\r\n                            />\r\n                            <FormikControl\r\n                                control='input'\r\n                                label='My skills'\r\n                                name='lookingForAJobDescription'\r\n                            />\r\n                            <div>\r\n                                <p></p>\r\n                                <Field\r\n                                    type='checkbox'\r\n                                    name='lookingForAJob'\r\n                                />\r\n                                <label htmlFor=\"lookingForAJob\">Looking for a job</label>\r\n                            </div>\r\n                            <h3>\r\n                                Contacts\r\n                            </h3>\r\n                            <FormikControl\r\n                                control='input'\r\n                                label='Github'\r\n                                name='contacts.github'\r\n                            />\r\n                            <FormikControl\r\n                                control='input'\r\n                                label='vk'\r\n                                name='contacts.vk'\r\n                            />\r\n                            <FormikControl\r\n                                control='input'\r\n                                label='Facebook'\r\n                                name='contacts.facebook'\r\n                            />\r\n                            <FormikControl\r\n                                control='input'\r\n                                label='Instagram'\r\n                                name='contacts.instagram'\r\n                            />\r\n                            <FormikControl\r\n                                control='input'\r\n                                label='Twitter'\r\n                                name='contacts.twitter'\r\n                            />\r\n                            <FormikControl\r\n                                control='input'\r\n                                label='Website'\r\n                                name='contacts.website'\r\n                            />\r\n                            <FormikControl\r\n                                control='input'\r\n                                label='Youtube'\r\n                                name='contacts.youtube'\r\n                            />\r\n                            <FormikControl\r\n                                control='input'\r\n                                label='Main link'\r\n                                name='contacts.mainLink'\r\n                            />\r\n                            <input type='submit' value='save' disabled={formik.isSubmitting}/>\r\n                        </Form>\r\n                    }\r\n                }\r\n            </Formik>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Settings","import React from 'react'\r\nimport { updateUserProfileSettings, getUserProfileThunkCreator, removeUserProfileThunkCreator } from '../../OldReducers/profileReducer'\r\nimport { connect } from \"react-redux\";\r\nimport Settings from './Settings';\r\nimport { compose } from 'redux';\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { LoggedInRedirect } from '../../hoc/LoggedInRedirect';\r\n\r\n\r\nclass SettingsContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.getUserProfileThunkCreator(this.props.userId)\r\n    }\r\n    componentWillUnmount() {\r\n        this.props.removeUserProfileThunkCreator()\r\n    }\r\n    render() {\r\n        return <>\r\n            {\r\n                !this.props.profile\r\n                    ? null\r\n                    : <Settings\r\n                        sendProfileSettings={this.props.updateUserProfileSettings}\r\n                        profile={this.props.profile}\r\n                    />\r\n            }\r\n\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.profileReducer.profile,\r\n    userId: state.authReducer.userId\r\n})\r\n\r\nexport default compose (\r\n    withRouter, \r\n    connect(mapStateToProps, { \r\n        updateUserProfileSettings, \r\n        getUserProfileThunkCreator, \r\n        removeUserProfileThunkCreator \r\n    }),\r\n    LoggedInRedirect\r\n) \r\n(SettingsContainer) ","import React from 'react'\nimport './App.css'\nimport { Route, withRouter, BrowserRouter } from 'react-router-dom';\nimport { connect, Provider } from 'react-redux'\nimport { initializeApp } from './OldReducers/appReducer'\nimport { compose } from 'redux';\nimport store from './OldReducers/reduxStore'\nimport Nav from './components/Navbar/Nav';\nimport Music from './components/Music/Music';\nimport HeaderContainer from './components/Header/HeaderContainerTS';\nimport UsersInnerContainer from './components/Users/UsersInnerContainerTS';\nimport LoginForm from './components/Login/LoginForm';\nimport Preloader from './components/Common/Preloader/Preloader';\nimport { WithSuspense } from './hoc/WithSuspense';\nimport SettingsContainer from './components/Settings/SettingsContainer';\nimport AddDialogContainerTS from './components/Dialogs/AddDialog/AddDialogContainerTS';\nconst Dialogs = React.lazy(() => import('./components/Dialogs/Dialogs'))\nconst ProfileContainer = React.lazy(() => import('./components/NewProfile/ProfileContainer'))\n\nclass App extends React.Component {\n  \n  componentDidMount() {\n    this.props.initializeApp()\n  }\n\n  render() {\n    if (!this.props.initialized) return <Preloader />\n    return (\n      <>\n        <div className='app-wrapper'>\n          <HeaderContainer />\n          <Nav />\n          <div className='app-wrapper-content'>\n            <Route path='/Dialogs' render={WithSuspense(AddDialogContainerTS)}/>\n            <Route path='/Profile/:userId?' render={WithSuspense(ProfileContainer)}/>\n            <Route path='/Users/:userId' render={WithSuspense(ProfileContainer)} />\n            <Route exact path='/Users' render={() => <UsersInnerContainer />} />\n            <Route path='/Music' render={() => <Music />} />\n            <Route path='/Settings' render={() => <SettingsContainer />} />\n            <Route path='/Login' render={() => <LoginForm />} />\n          </div>\n        </div>\n      </>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  initialized: state.appReducer.initialized\n})\n\nlet AppWithRouter = compose(\n  withRouter,\n  connect(mapStateToProps, { initializeApp })\n)(App)\n\nlet MainApp = (props) => {\n  return <BrowserRouter basename={process.env.PUBLIC_URL}>\n    <Provider store={store}>\n      <AppWithRouter />\n    </Provider>\n  </BrowserRouter>\n}\n\nexport default MainApp\n","import reportWebVitals from './reportWebVitals';\nimport store from './redux/reduxStoreTS'\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport MainApp from './App';\n \n\nexport let rerenderEntireTree = () => {\n  ReactDOM.render( <MainApp />,\n    document.getElementById('root')\n  );\n}\nrerenderEntireTree(store)\nwindow.store = store\n\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"User_user__3Kdvq\",\"logoBlock\":\"User_logoBlock__xhS7H\",\"infoBlock\":\"User_infoBlock__3O4VD\",\"name\":\"User_name__3sCD6\",\"status\":\"User_status__1ssRJ\",\"city\":\"User_city__1xMuO\",\"country\":\"User_country__1_5tH\"};","import { createSelector } from 'reselect'\r\n\r\nexport const usersSelectors = {\r\n    getAllUsers(state) {\r\n        return state.usersReducer.users\r\n    },\r\n    getPageSize(state) {\r\n        return state.usersReducer.pageSize \r\n    },\r\n    getPageCount(state) {\r\n        return state.usersReducer.pageCount\r\n    },\r\n    getTotalCount(state) {\r\n        return state.usersReducer.totalCount\r\n    },\r\n    getIsFetching(state) {\r\n        return state.usersReducer.isFetching \r\n    },\r\n    getFollowingProgrress(state) {\r\n        return state.usersReducer.followingProgress\r\n    },\r\n    getAllUsersSelector(state) {\r\n        return this.getAllUsers(state).filter(user => true) \r\n    },\r\n}\r\n\r\nexport const getUsersSuper = createSelector(usersSelectors.getAllUsers, (users) => {\r\n    return users.filter(user => true)\r\n})\r\n\r\nexport const postsSelectors = {\r\n    getPosts(state) {\r\n        return state.profileReducer.posts\r\n    },\r\n    getProfile(state) {\r\n        return state.profileReducer.profile\r\n    },\r\n    getNewPostsText(state) {\r\n        return state.profileReducer.newPostText\r\n    },\r\n    getLogin(state) {\r\n        return state.authReducer.login\r\n    }\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__eA5PG\",\"login\":\"Header_login__2clXM\",\"userInfo\":\"Header_userInfo__UZJGJ\",\"userLogin\":\"Header_userLogin__1B_UB\",\"userAvatar\":\"Header_userAvatar__8bsmo\",\"profileSettings\":\"Header_profileSettings__3xpjx\"};","import React from 'react'\r\nimport { Redirect } from \"react-router-dom\"\r\nimport { connect } from 'react-redux'\r\nimport { LoggedInTogglegAC, LoggedInFetchingAC, logOut } from '../OldReducers/authReducer'\r\n\r\nexport const LoggedInRedirect = (Component) => {\r\n    class RedirectedComponent extends React.Component {\r\n\r\n        constructor(props) {\r\n            super(props)\r\n            this.props = props\r\n        }\r\n\r\n        render() {\r\n            return (\r\n                <>\r\n                 {!this.props.isLoggedIn && this.props.confirmation ? <Redirect to='/Login' /> : <></>}\r\n                 {this.props.isFetching && !this.props.isLoggedIn ? <></> : <Component {...this.props} />}\r\n                </>\r\n            )\r\n        }\r\n    }\r\n\r\n    let mapStateToPropsLoggedInRedirect = (state) => ({\r\n        isLoggedIn: state.authReducer.isLoggedIn,\r\n        isFetching: state.authReducer.isFetching,\r\n        confirmation: state.authReducer.confirmation,\r\n    })\r\n    let LogInRedirectComponent = connect(mapStateToPropsLoggedInRedirect, {LoggedInTogglegAC, LoggedInFetchingAC, logOut})(RedirectedComponent)\r\n    return LogInRedirectComponent\r\n}\r\n\r\n","export default __webpack_public_path__ + \"static/media/loaderSVG.2997ce57.svg\";","import React from 'react'\r\nimport preloader from '../../../assets/loaderSVG.svg'\r\nimport classes from './Preloader.module.css'\r\n\r\nconst Preloader = () => {\r\n    return (\r\n        <div className={classes.preloaderContainer}>\r\n            <img className={classes.preloader} src={preloader} alt='preloader'/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Preloader","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogsContainer\":\"AddDialog_dialogsContainer__36VpY\",\"dialogs\":\"AddDialog_dialogs__9MD-O\",\"messages\":\"AddDialog_messages__2Y0fg\",\"addDialog\":\"AddDialog_addDialog__1x_vd\"};","export default __webpack_public_path__ + \"static/media/defaultAvatar.0334f4b4.png\";","import {\r\n    getUserProfile,\r\n    getUserStatus,\r\n    sendUserStatus,\r\n    sendUserPhoto,\r\n    sendUserProfileSettings\r\n} from '../API/api'\r\n\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst APDATE_USER_STATUS = 'APDATE_USER_STATUS'\r\nconst ADD_NEW_POST = 'ADD_NEW_POST'\r\nconst UPDATE_POST_TEXT = 'UPDATE_POST_TEXT'\r\nconst DELETE_POST = 'DELETE_POST'\r\nconst UPDATE_USER_PHOTO = 'UPDATE_USER_PHOTO'\r\nconst LOADING_NEW_PROFILE_PHOTO = 'LOADING_NEW_PROFILE_PHOTO'\r\n\r\nlet initialState = {\r\n    posts: [],\r\n    newPostText: '',\r\n    profile: null,\r\n    userStatus: null,\r\n    loadingPhoto: false\r\n};\r\n\r\n\r\n\r\nexport const profileReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SET_USER_PROFILE: {\r\n            return { ...state, profile: action.profile }\r\n        }\r\n        case APDATE_USER_STATUS: {\r\n            return {\r\n                ...state,\r\n                userStatus: action.userStatus\r\n            }\r\n        }\r\n        case UPDATE_USER_PHOTO: {\r\n            return { ...state, profile: { ...state.profile, photos: action.photos } }\r\n        }\r\n        case UPDATE_POST_TEXT: {\r\n            return {\r\n                ...state,\r\n                newPostText: action.postText\r\n            }\r\n        }\r\n        case ADD_NEW_POST: {\r\n            let newPost = {\r\n                id: 1,\r\n                postText: action.postText,\r\n                userAva: null,\r\n                userName: action.login,\r\n                likesCount: 0,\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost]\r\n            }\r\n        }\r\n        case DELETE_POST: {\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(post => post.id != action.postId)\r\n            }\r\n        }\r\n        case LOADING_NEW_PROFILE_PHOTO: {\r\n            return {\r\n                ...state,\r\n                loadingPhoto: !state.loadingPhoto\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\n\r\nconst setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile })\r\n\r\nconst updateUserStatusAC = (userStatus) => ({ type: APDATE_USER_STATUS, userStatus: userStatus })\r\n\r\nconst updateUserPhotoAC = (photos) => ({ type: UPDATE_USER_PHOTO, photos })\r\n\r\nconst loadingPhotoAC = () => ({type: LOADING_NEW_PROFILE_PHOTO})\r\n\r\nexport const addNewPostAC = (postText, login) => ({ type: ADD_NEW_POST, postText, login })\r\n\r\nexport const deletePostAC = (postId) => ({ type: DELETE_POST, postId })\r\n\r\nexport const getUserProfileThunkCreator = (UserId) =>\r\n    async (dispatch) => {\r\n        const res = await getUserProfile(UserId)\r\n        dispatch(setUserProfile(res.data))\r\n    }\r\n// Делаем запрос на сервер за данными пользователя, и диспатчим данные в стор\r\n\r\nexport const removeUserProfileThunkCreator = () => {\r\n    return (dispatch) => {\r\n        dispatch(setUserProfile(null))\r\n    }\r\n} // Удаляем из стора загруженный профиль\r\n\r\nexport const getUserStatusThunkCreator = (UserId) =>\r\n    async (dispatch) => {\r\n        const res = await getUserStatus(UserId)\r\n        dispatch(updateUserStatusAC(res.data))\r\n    }\r\n// Делаем запрос на сервер и диспатчим статус пользователя\r\n\r\nexport const updateUserStatusThunkCreator = (status) =>\r\n    async (dispatch) => {\r\n        const res = await sendUserStatus(status)\r\n        if (res.data.resultCode === 0) {\r\n            dispatch(updateUserStatusAC(status))\r\n        }\r\n    }\r\n\r\nexport const updateUserProfileSettings = (settings) =>\r\n    async (dispatch) => {\r\n        const res = await sendUserProfileSettings(settings)\r\n    }\r\n\r\n\r\nexport const uploadUserProfilePhotoThunkCreator = (file) =>\r\n    async (dispatch) => {\r\n        const res = await sendUserPhoto(file)\r\n        if (res.data.resultCode === 0) {\r\n            dispatch(updateUserPhotoAC(res.data.data.photos))\r\n        }\r\n    }\r\n\r\nexport const addNewPostThunkCreator = (postText, login) => (dispatch) => {\r\n    dispatch(addNewPostAC(postText, login))\r\n}\r\n\r\nexport const loadingPhotoThunk = () => (dispatch) => {\r\n    dispatch(loadingPhotoAC())\r\n}\r\n\r\nexport default profileReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttonsContainer\":\"PageButton_buttonsContainer__135jv\",\"checkedButton\":\"PageButton_checkedButton__2t6J4\"};"],"sourceRoot":""}